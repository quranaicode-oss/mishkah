<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>ØªØ¬Ø±Ø¨Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…ØµØ±ÙÙŠ â€” Ø¹Ø±Ø¶ Ù‚Ø§Ù„Ø¨ Ù…Ø´ÙƒØ§Ø©</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="./mishkah-utils.js"></script>
  <script src="./mishkah.core.js"></script>
  <script src="./mishkah-ui.js"></script>
  <script src="./mishkah.templates.js"></script>
</head>
<body>
  <div id="app"></div>
  <script>
    const mobileCopy = {
      statusBar: { time: '10:24', connectivity: '5G', battery: 'ğŸ”‹ 76%' },
      header: { greeting: 'Ø£Ù‡Ù„Ø§Ù‹ØŒ ÙˆÙ„ÙŠØ¯', subtitle: 'Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø­', avatar: 'ğŸ’³' },
      balance: {
        amount: '52,430 Ø±.Ø³',
        change: '+2,150 Ø±.Ø³ Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±',
        caption: 'ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ« Ù‚Ø¨Ù„ Ø¯Ù‚ÙŠÙ‚Ø©',
        chart: {
          type: 'line',
          height: 140,
          data: {
            labels: ['Ø£', 'Ø¨', 'Ø¬', 'Ø¯', 'Ù‡Ù€', 'Ùˆ', 'Ø²'],
            datasets: [
              {
                label: 'Ø§Ù„Ø±ØµÙŠØ¯',
                data: [41, 43, 44, 46, 48, 50, 52],
                fill: true,
                borderColor: 'rgba(34,197,94,1)',
                backgroundColor: 'rgba(34,197,94,0.24)',
                pointRadius: 0
              }
            ]
          },
          options: {
            plugins: { legend: { display: false } },
            scales: { x: { display: false }, y: { display: false } }
          }
        }
      },
      quickActions: [
        { id: 'transfer', label: 'ØªØ­ÙˆÙŠÙ„', icon: 'â†—ï¸' },
        { id: 'split', label: 'ØªÙ‚Ø³ÙŠÙ… ÙØ§ØªÙˆØ±Ø©', icon: 'ğŸ¤' },
        { id: 'topup', label: 'Ø´Ø­Ù† Ø±ØµÙŠØ¯', icon: 'âš¡ï¸' }
      ],
      highlights: [
        { id: 'budget', title: 'Ù…ÙˆØ§Ø²Ù†Ø© Ø§Ù„Ø³ÙØ±', value: '65% Ù…Ø³ØªØ®Ø¯Ù…', meta: '3,500 Ø±.Ø³ Ù…ØªØ¨Ù‚ÙŠ' },
        { id: 'goals', title: 'Ø§Ø¯Ø®Ø§Ø± Ø§Ù„Ø¹Ù‚Ø§Ø±', value: '124,000 Ø±.Ø³', meta: '+2,000 Ø±.Ø³ Ù‡Ø°Ø§ Ø§Ù„Ø±Ø¨Ø¹' }
      ],
      transactions: {
        title: 'Ø¢Ø®Ø± Ø§Ù„Ø­Ø±ÙƒØ§Øª',
        items: [
          { id: 'coffee', name: 'Ù…Ù‚Ù‡Ù‰ Ø§Ù„Ù…Ø³Ø§Ø¡', time: 'Ø§Ù„ÙŠÙˆÙ… â€¢ 08:10', amount: '-18 Ø±.Ø³', type: 'out' },
          { id: 'salary', name: 'Ø±Ø§ØªØ¨ Ø§Ù„Ø´Ø±ÙƒØ©', time: 'Ø£Ù…Ø³ â€¢ 18:30', amount: '+12,500 Ø±.Ø³', type: 'in' },
          { id: 'rent', name: 'Ø¯ÙØ¹Ø© Ø¥ÙŠØ¬Ø§Ø±', time: 'Ø£Ù…Ø³ â€¢ 08:00', amount: '-4,200 Ø±.Ø³', type: 'out' }
        ],
        action: { label: 'Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„ÙƒØ§Ù…Ù„', gkey: 'mobile:transactions:all' }
      }
    };

    Mishkah.Templates.mobile.create({
      mount: '#app',
      theme: 'dark',
      copy: mobileCopy
    });

    window.addEventListener('mishkah:template', (event) => {
      const detail = event.detail || {};
      const { type, payload } = detail;
      if (!type) return;
      if (type === 'mobile:actions:select') {
        console.info('ğŸŸ¢ ØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ø¥Ø¬Ø±Ø§Ø¡ Ø³Ø±ÙŠØ¹:', payload);
      } else if (type === 'mobile:transactions:all') {
        window.alert('ğŸ“± ÙØªØ­ Ø³Ø¬Ù„ Ø§Ù„Ø­Ø±ÙƒØ§Øª Ø§Ù„ÙƒØ§Ù…Ù„');
      }
    });
  </script>
</body>
</html>
