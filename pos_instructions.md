----

### **ุงููุซููุฉ ุงููููุฉ ุงูุดุงููุฉ: ูุธุงู ููุงุท ุงูุจูุน ูููุทุงุนู (POS) v1.1**

**ุงูุบุฑุถ:** ูุฐุง ุงููุณุชูุฏ ูู ุงููุตุฏุฑ ุงูุฑุณูู ูุงููุญูุฏ ููุญูููุฉ (Single Source of Truth) ูุชุตููู ูุชุทููุฑ ุดุงุดุฉ POS. ุฅูู ูุญุฏุฏ ุงููุชุทูุจุงุช ุงููุธูููุฉ ูุบูุฑ ุงููุธูููุฉุ ูููุงุฐุฌ ุงูุจูุงูุงุชุ ูุชุฏููุงุช ุงูุนููุ ูุงูููุฏุณุฉ ุงููุนูุงุฑูุฉ ูููุธุงู ุจุดูู ููุตู.

-----

### **ุงูุฌุฒุก ุงูุฃูู: ุงูุชูุตูู ุงูุนุงู ูููุดุฑูุน (Framework-Agnostic)**

#### **1. ุงูุฑุคูุฉ ูุงูุฃูุฏุงู**

ุจูุงุก ูุธุงู ููุงุท ุจูุน (POS) ูููุทุงุนู ูู ุงูุฌูู ุงูุชุงููุ ูุชููุฒ ุจุงูุณุฑุนุฉ ุงููุงุฆูุฉุ ูุงูููุซูููุฉ ุงูุนุงููุฉ (ูุนูู ุฏูู ุงุชุตุงู)ุ ูุงููุฑููุฉ ุงูุชุดุบูููุฉ ุงููุตูู. ุงููุธุงู ูุตูู ูุจูุฆุงุช ุงูุนูู ุณุฑูุนุฉ ุงูุฎุทูุ ููููุฑ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุจุฏูููุฉ ุนูู ุงูุฃุฌูุฒุฉ ุงูููุญูุฉ ุงูุชู ุชุนูู ุจุงูููุณุ ูุน ุงูุงูุชุฒุงู ุจุงููุนุงููุฑ ุงูุนุงูููุฉ ูุฃูุธูุฉ ุฅุฏุงุฑุฉ ุงููุทุงุนู (RMS).

#### **2. ุงููุชุทูุจุงุช ุงููุธูููุฉ ุงูููุตูุฉ**

##### **2.1 ุงููุงุฌูุฉ ุงูุฑุฆูุณูุฉ ูุงูุชุฎุทูุท ุงูุนุงู**

  * **ุชุฎุทูุท ุซุงุจุช (100vh/100vw):** ุชุดุบู ุงููุงุฌูุฉ ูุงูู ุงูุดุงุดุฉ ุจุฏูู ุฃู ุดุฑูุท ุชูุฑูุฑ ุฑุฆูุณู.
  * **ุชูุณูู ุงูุดุงุดุฉ:**
      * **ููุทูุฉ ุงููุงุฆูุฉ (Menu Area) - (โ65-70%):** ุนูู ุงููููู (ูู LTR) ุฃู ุงููุณุงุฑ (ูู RTL). ุชุญุชูู ุนูู ุดุฑูุท ุจุญุซ ูููุชุฑุฉ ุจุงูุชุตูููุงุชุ ูุดุจูุฉ ุนุฑุถ ููุฃุตูุงู.
      * **ููุทูุฉ ุงูุทูุจ (Order/Cart Area) - (โ30-35%):** ุนูู ุงููุณุงุฑ (ูู LTR) ุฃู ุงููููู (ูู RTL). ุชุญุชูู ุนูู ุชูุงุตูู ุงูุทูุจ ุงูุญุงููุ ุงูุฅุฌูุงููุงุชุ ูุฃุฒุฑุงุฑ ุงูุฅุฌุฑุงุกุงุช.
  * **ุดุฑูุท ุงูุฅุฌุฑุงุกุงุช ุงูุณููู (Footer Action Bar):** ุดุฑูุท ุซุงุจุช ุฃุณูู ููุทูุฉ ุงูุทูุจ ูุญุชูู ุนูู ุงูุฃุฒุฑุงุฑ ุงูููุงุฆูุฉ (ุญูุธุ ุฏูุนุ ุทุจุงุนุฉ).
  * **ุงูุดุฑูุท ุงูุนููู (Top Bar):** ูุนุฑุถ ูุนูููุงุช ุงููุฑุฏูุฉุ ุงุณู ุงูููุธูุ ูุฒุฑ ูุชุณุฌูู ุงูุฎุฑูุฌ ุฃู ุงููุตูู ููุฅุนุฏุงุฏุงุช.

##### **2.2 ุฅุฏุงุฑุฉ ุงูุทูุจุงุช (Core Order Management)**

  * **ุฅุถุงูุฉ ุงูุฃุตูุงู:** ุงูุถุบุท ุนูู ุจุทุงูุฉ ุงูุตูู ูู ุงููุงุฆูุฉ ูุถููู ููุทูุจ. ุงูุถุบุท ุงููุชูุฑุฑ ูุฒูุฏ ุงููููุฉ ุจููุฏุงุฑ 1.
  * **ุชุนุฏูู ุงููููุฉ:** ูู ุณุทุฑ ูู ุงูุทูุจ ูุญุชูู ุนูู ุฃุฒุฑุงุฑ `+` ู `-`. ุงูุถุบุท ุนูู ุฑูู ุงููููุฉ ููุชุญ ููุญุฉ ุฃุฑูุงู **Numpad** ูุฅุฏุฎุงู ูููุฉ ุฏูููุฉ.
  * **ุฅุฌุฑุงุกุงุช ุณุทุฑ ุงูุทูุจ (Line Item Actions):** ุจุฌุงูุจ ูู ุณุทุฑุ ููุฌุฏ ุฒุฑ (ูุซู "...") ููุชุญ ูุงุฆูุฉ ุฅุฌุฑุงุกุงุช ุณุฑูุนุฉ:
      * **ุงูููุนุฏูููุงุช (Modifiers):** ูุชุญ ุดุงุดุฉ ูุฅุถุงูุฉ/ุฅุฒุงูุฉ "ุงูุฅุถุงูุงุช" (Add-ons) ู"ุงูููุฒูุนุงุช" (Removals). ููู ุตูู ููู ููุนุฏูููุงุช ุฎุงุต ุจูุ ูุน ุฅููุงููุฉ ุชุณุนูุฑ ุงูุฅุถุงูุงุช.
      * **ุงูููุงุญุธุงุช (Notes):** ุฅุถุงูุฉ ูุต ุญุฑ ููุฑุณู ูููุทุจุฎ.
      * **ุฎุตู ุงูุจูุฏ (Item Discount):** ุชุทุจูู ุฎุตู (ูุณุจุฉ ุฃู ูููุฉ) ุนูู ูุฐุง ุงูุณุทุฑ ููุท (ูุชุทูุจ PIN).
      * **ุญุฐู ุงูุจูุฏ (Delete Item):** ุฅุฒุงูุฉ ุงูุณุทุฑ ูู ุงูุทูุจ (ูุชุทูุจ PIN).

##### **2.3 ุฅุฏุงุฑุฉ ุงูุทุงููุงุช ูุงูุญุฌูุฒุงุช (Dine-in Flow)**

  * **ุฎุฑูุทุฉ ุงูุทุงููุงุช (Table Map):** ุนูุฏ ุงุฎุชูุงุฑ ููุน ุงูุทูุจ "ุตุงูุฉ"ุ ุชุธูุฑ ูุงูุฐุฉ Modal ุชุนุฑุถ ุฎุฑูุทุฉ ููุทุงููุงุช ูุน ุญุงูุงุชูุง ูุฑูุฒุฉ ุจุตุฑููุง:
      * ๐ข **ูุงุฑุบุฉ (Available):** ูุงุจูุฉ ููุงุฎุชูุงุฑ.
      * ๐ **ูุดุบููุฉ (Occupied):** ุนูููุง ุทูุจ ูุงุญุฏ ุฃู ุฃูุซุฑ.
      * ๐ต **ูุญุฌูุฒุฉ (Reserved):** ูุฑุชุจุทุฉ ุจุญุฌุฒ ูุณุชูุจูู.
      * โซ **ุตูุงูุฉ (Out of Service):** ุบูุฑ ูุชุงุญุฉ.
  * **ุนุฑุถ ุงูุทูุจุงุช ุงููุนููุฉ:** ุงูุถุบุท ุนูู ุทุงููุฉ **ูุดุบููุฉ** ูุนุฑุถ ูุงุฆูุฉ ุจุงูุทูุจุงุช ุงูููุชูุญุฉ ("ุงููุนููุฉ") ุนูููุง. ูููู ูููุณุชุฎุฏู ุงุฎุชูุงุฑ ุทูุจ ูู ูุฐู ุงููุงุฆูุฉ ูุชุญูููู ูู ุณูุฉ ุงูุทูุจ ุงูุญุงููุฉ ุจูุฏู ุชุนุฏููู ุฃู ุชุณููุชู (ุฏูุนู).
  * **ุนูุงูุงุช ูุฑูุฉ (Many-to-Many):**
      * **ุงูุทูุจ ุงููุงุญุฏ ูููู ุฃู ูุดุบู ุนุฏุฉ ุทุงููุงุช:** (ูุซู ุงูุนุฒููุงุช ุงููุจูุฑุฉ).
      * **ุงูุทุงููุฉ ุงููุงุญุฏุฉ ูููู ุฃู ูููู ุนูููุง ุนุฏุฉ ุทูุจุงุช:** (ูุซู ูุฌููุนุฉ ุฃุตุฏูุงุก ูุฏูุน ูู ูููู ูุงุชูุฑุชู). ูุชู ูุฐุง ุนุจุฑ ููุฒุฉ **Unlock Table** ุงูุชู ุชุณูุญ ุจุจุฏุก ุทูุจ ุฌุฏูุฏ ุนูู ุทุงููุฉ ูุดุบููุฉ.
  * **ูุธุงู ุงูุญุฌูุฒุงุช (Reservations):**
      * **ุฅูุดุงุก ุญุฌุฒ:** ูููู ุฅูุดุงุก ุญุฌุฒ ุบูุฑ ูุฑุชุจุท ุจุทูุจุ ูุญุชูู ุนูู (ุงุณู ุงูุนูููุ ุฑูู ุงููุงุชูุ ุนุฏุฏ ุงูุฃูุฑุงุฏุ ุชุงุฑูุฎ ูููุช ุงูุจุฏุกุ ุงูุทุงููุงุช ุงููุฎุชุงุฑุฉุ ููุงุญุธุงุช).
      * **ููู ุชููุงุฆู:** ุงูุญุฌุฒ ูููู ุจููู ุงูุทุงููุงุช ุงููุฑุชุจุทุฉ ุจู ูุชุบููุฑ ุญุงูุชูุง ุฅูู "ูุญุฌูุฒุฉ" ุฎูุงู ูุชุฑุฉ ุงูุญุฌุฒ.
      * **ุฅุฏุงุฑุฉ ุงูุญุฌูุฒุงุช:** ูุฌูุฏ ูุงุฌูุฉ ูุงุณุชุนุฑุงุถ ุงูุญุฌูุฒุงุช ุงููุงุฏูุฉุ ุชุนุฏูููุงุ ุฃู ุฅูุบุงุฆูุง.

##### **2.4 ุฅุฏุงุฑุฉ ุงููุฑุชุฌุนุงุช (Returns Module) - (ุนูููุฉ ุนูููุฉ)**

  * **ุงูุดุฑูุท:** ูุง ูููู ุนูู ูุฑุชุฌุน ุฅูุง ุนูู ูุงุชูุฑุฉ **ูุฏููุนุฉ (Paid)** ููุบููุฉ. ุงููุตูู ูููุธููุฉ ูุชุทูุจ PIN.
  * **ุขููุฉ ุงูุนูู:**
    1.  ูุชู ุงุณุชุฏุนุงุก ุงููุงุชูุฑุฉ ุงูุฃุตููุฉ.
    2.  ุงูุถุบุท ุนูู ุฒุฑ "ูุฑุชุฌุน" ููุชุญ ุดุงุดุฉ ุฌุฏูุฏุฉ ุชุดุจู ุณูุฉ ุงูุทูุจ.
    3.  ูุฐู ุงูุดุงุดุฉ ุชุนุฑุถ **ููุท ุฃุตูุงู ุงููุงุชูุฑุฉ ุงูุฃุตููุฉ**ุ ูุน ุนุฑุถ ุงููููุฉ **ุงููุชุจููุฉ ุงููุงุจูุฉ ููุฅุฑุฌุงุน** (ุงููููุฉ ุงูุฃุตููุฉ - ุงููููุงุช ุงููุฑุชุฌุนุฉ ุณุงุจููุง).
    4.  ูููู ุงููุณุชุฎุฏู ุจุงูุถุบุท ุนูู ุงูุฃุตูุงู ูุฅุถุงูุชูุง ุฅูู "ุณูุฉ ุงููุฑุชุฌุนุงุช". ูุง ูููู ุชุฌุงูุฒ ุงููููุฉ ุงููุงุจูุฉ ููุฅุฑุฌุงุน.
    5.  **ูุง ุชูุฌุฏ ุฎุตููุงุช ุฃู ุชุนุฏููุงุช:** ุงููุฑุชุฌุน ูู ุนูููุฉ ุนูุณูุฉ ุจุงูุณุนุฑ ุงูุฃุตูู ุงููุฏููุน.
    6.  ุนูุฏ ุงูุญูุธุ ูุชู ุฅูุดุงุก **ูุงุชูุฑุฉ ูุฑุชุฌุน** ุฌุฏูุฏุฉ ุจุณุฑูุงู ุฎุงุต ุจูุงุ ูุชุฑุชุจุท ุจุฑูู ุงููุงุชูุฑุฉ ุงูุฃุตููุฉ.
  * **ุชุนุฏุฏ ุงููุฑุชุฌุนุงุช:** ูููู ุนูู **ุฃูุซุฑ ูู ุนูููุฉ ูุฑุชุฌุน** ุนูู ููุณ ุงููุงุชูุฑุฉ ุงูุฃุตููุฉุ ููู ูู ูุฑุฉ ูุชู ุชุญุฏูุซ ุงููููุงุช ุงููุงุจูุฉ ููุฅุฑุฌุงุน.
  * **ุงูุงุณุชุนุฑุงุถ:** ูุฌุจ ุฃู ุชููุฑ ุงููุงุฌูุฉ ุทุฑููุฉ ูุงุณุชุนุฑุงุถ ูู ููุงุชูุฑ ุงููุฑุชุฌุนุงุช ุงููุฑุชุจุทุฉ ุจุทูุจ ูุนููุ ูุน ุฅููุงููุฉ ุทุจุงุนุฉ ุฃู ุญุฐู (ุจู PIN) ุฃู ูููุง.

##### **2.5 ุฅุฏุงุฑุฉ ุงููุฏููุนุงุช ููุฑุฏูุฏุงุชูุง (Payments & Refunds)**

  * **ุงูุฏูุน ุงูููุณู (Split Payments):** ูููู ููุนููู ุฏูุน ุงููุงุชูุฑุฉ ุจุงุณุชุฎุฏุงู ุฃูุซุฑ ูู ูุณููุฉ ุฏูุน (ุฌุฒุก ููุฏูุ ุฌุฒุก ููุฒุงุ ...). ุงููุงุฌูุฉ ุชุนุฑุถ ุงููุจูุบ ุงููุชุจูู ุจุนุฏ ูู ุฏูุนุฉ.
  * **ูุฑุฏูุฏุงุช ุงููุฏููุนุงุช (Payment Refunds):**
      * ูู ุนูููุฉ ูุงููุฉ ูุณุชููุฉ ุนู ูุฑุชุฌุน ุงูุฃุตูุงู.
      * ุชุณูุญ ุจุนูุณ ุนูููุฉ ุฏูุน ุชูุช ุนูู ุทูุจ.
      * **ุงูุขููุฉ:** ูููู ูููุณุชุฎุฏู ุงุฎุชูุงุฑ **ุฑุจุท ุงููุฑุฏูุฏ ุจุนูููุฉ ุฏูุน ุฃุตููุฉ** (ูุซูุงู: ุนูุณ ุนูููุฉ ููุฒุง ุจูููุฉ 50 ุฌููู)ุ ุฃู ุนูู **ูุฑุฏูุฏ ุบูุฑ ูุฑุชุจุท** (ูุซูุงู: ุฅุฑุฌุงุน 50 ุฌููู ููุฏูุง ูุชุนููุถ ููุนููู ุจุบุถ ุงููุธุฑ ุนู ุทุฑููุฉ ุงูุฏูุน ุงูุฃุตููุฉ).

##### **2.6 ุงูุชูุงุฑูุฑ (Reports Module)**

  * ูุฌุจ ุชูููุฑ ูุงุฌูุฉ ุชูุงุฑูุฑ ุฏุงุฎููุฉ ุชุณุญุจ ุจูุงูุงุชูุง ูุจุงุดุฑุฉ ูู IndexedDB ููุณุฑุนุฉ.
  * **ุฃููุงุน ุงูุชูุงุฑูุฑ ุงููุทููุจุฉ:**
      * **ุชูุฑูุฑ ุงููุฑุฏูุฉ (Shift Report):** ูุนุฑุถ ููุฎุต ุงููุฑุฏูุฉ ุงูุญุงููุฉ ุฃู ุฃู ูุฑุฏูุฉ ุณุงุจูุฉ (ุงูุฑุตูุฏ ุงูุงูุชุชุงุญูุ ุฅุฌูุงูู ุงููุจูุนุงุชุ ุชูุตูู ุงููุจูุนุงุช ุญุณุจ ูุณููุฉ ุงูุฏูุนุ ุงูุฎุตููุงุชุ ุงููุฑุชุฌุนุงุชุ ุตุงูู ุงูููุฏูุฉ).
      * **ุชูุฑูุฑ ุงููุจูุนุงุช (Sales Report):** ูููู ููุชุฑุชู ุญุณุจ ุงูุชุงุฑูุฎ. ูุนุฑุถ ุงููุจูุนุงุช ูุฌูุนุฉ ุญุณุจ ุงูุตูู ุฃู ุงูุชุตููู.
      * **ุชูุฑูุฑ ุงูุทูุจุงุช (Orders Report):** ูุงุฆูุฉ ุจุฌููุน ุงูุทูุจุงุช ูููู ููุชุฑุชูุง ุญุณุจ (ุงูุญุงูุฉุ ุงูููุนุ ุงูููุธูุ ุงูุทุงููุฉ)ุ ูุน ุฅููุงููุฉ ูุชุญ ุฃู ุทูุจ ูุนุฑุถ ุชูุงุตููู ุฃู ุฅุนุงุฏุฉ ุทุจุงุนุชู.

----# ๐ฆ ุงููุซููุฉ ุงููููุฉ ุงูุดุงููุฉ โ POS ูููุทุงุนู v1.1 (FrameworkโAgnostic) + ููุญู Mishkah v5

> **ุงูุบุฑุถ ุงูุนุงู:** ุตูุงุบุฉ ูุฑุฌุน ุชูููุฐู ููุตูู ูุจูุงุก ุดุงุดุฉ POS ูููุทุงุนู ุจูุณุชูู ุนุงููู. ูุจุฏุฃ ุงููุณุชูุฏ ุจุชูุตูู **ุบูุฑ ูุฑุชุจุท ุจุฅุทุงุฑ ุนูู** ูุญุฏุฏ ุงููููููุงุช ุงูุนุงูุฉ ุงููุงุจูุฉ ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู ูู ุฃู ุชุทุจูู ููุจุ ุซู **ููุญู ุชุทุจููู** ูุฑุจุทูุง ูุจุงุดุฑุฉ ุจููุชุจุฉ Mishkah v5 (Truth/Commands/Regions/DSL).
> **ุงููุชูุฌุฉ ุงููุชููุนุฉ:** ูุชุงููุฌ ูููููุงุช ุนุงูุฉ ุตุบูุฑุฉ (Atoms/Molecules/Overlays/Utilities) + ุฑุจุท ุชุฑููุจู ููููููุงุช POS ุงููุชุฎุตุตุฉ + ุฎุทุฉ ูููุงุช: `pos.html`, `pos-comp.js`, `pos.js`.

---

## 0) ุตูุฑุฉ ุนุงูุฉ ุณุฑูุนุฉ

* ุดุงุดุฉ ููุก ูุงูู 100vh/100vw ุจูุง ุชูุฑูุฑ ุฑุฆูุณูุ ุงูุชูุฑูุฑ ุฑุฃุณู ูุญุตูุฑ ูู ููุญ **ุงููุงุฆูุฉ** ูููุญ **ุงูุทูุจ**.
* ูุงุฌูุฉ ููุณ ุฃูููุง (TouchโFirst) + ุฏุนู ููุญุฉ ููุงุชูุญ ูุงุฎุชุตุงุฑุงุช + ูุตูููุฉ (A11y).
* ุซูู Light/Darkุ ุฏุนู RTL/LTRุ I18n ูุงูู.
* ุชุฎุฒูู ูุญูู IndexedDB + ูุฒุงููุฉ WebSocket (KDS/Delivery)ุ ุทุจุงุนุฉ ุญุฑุงุฑูุฉ 58/80mm.

---

## 1) ุงููููููุงุช ุงูุนุงูุฉ (FrameworkโAgnostic Catalog)

> ูุฐู **ูุจูุงุช ุฌููุฑูู** ุชุตูุญ ูุฃู ุชุทุจูู. ุณูุณุชุฎุฏููุง ูุจูุงุก ูููููุงุช POS ุงููุชุฎุตุตุฉ. ููู ููููู ูุฐูุฑ: ุงููุฏูุ ุฃูู ุงูุฎุตุงุฆุต (Props)ุ ุงูุฃุญุฏุงุซ (Events)ุ ุงููุตูููุฉ/ุงูุฃุฏุงุกุ ูููุงุญุธุงุช ุงูุซูู.

### 1.1 Atoms (ุฃุณุงุณูุงุช ูุงุฌูุฉ)

1. **IconEmoji**

   * ุงููุฏู: ุฃููููุฉ ุฎูููุฉ ุนุจุฑ Unicode/Emoji.
   * Props: `{ char:string, label?:string, size?:'sm'|'md'|'lg' }`
   * A11y: `aria-label` ุนูุฏ ูุฌูุฏ `label`.

2. **Button**

   * ุงููุฏู: ุฒุฑ ุนุงู ุจูุชุบูุฑุงุช ุชุตููููุฉ.
   * Props: `{ intent:'primary'|'success'|'warning'|'danger'|'neutral', variant:'solid'|'outline'|'ghost', size:'sm'|'md'|'lg', loading?:boolean, disabled?:boolean, leftIcon?:string, rightIcon?:string }`
   * Events: `data-onclick` (ููุฑุจุท ุจุฃูุงูุฑ).
   * A11y: ุฏูุฑ `button`, ุฏุนู `aria-busy`.

3. **Badge / Chip**

   * ุงููุฏู: ุดุงุฑุงุช/ูุจุณููุงุช ุญุงูุฉ ุฃู ููุงุชุฑ.
   * Props: `{ tone:'info'|'success'|'warning'|'danger'|'neutral', size, dismissible? }`.

4. **Input / NumberInput / DecimalInput / Textarea / SelectBase / Switch / Checkbox / Radio**

   * ุงููุฏู: ูุฏุฎูุงุช ููุงุณูุฉ ุจุชุฑููุฒ ูุฑุฆู.
   * Props ูุดุชุฑูุฉ: `{ value, placeholder, disabled, invalid, helperText?, onInput, onChange }`.

5. **Divider / Separator**

   * ุงููุฏู: ูุงุตู ุจุตุฑู ุฑููุน.

6. **PriceText**

   * ุงููุฏู: ุนุฑุถ ุนููุฉ ููุณููุฉ ุญุณุจ ุงููุบุฉ/ุงูุซูู.
   * Props: `{ value:number, currency?:string, compact?:boolean }`.

7. **QtyStepper**

   * ุงููุฏู: ุชุญูู ุจุณูุท `+ / โ` ูุน ุนุฑุถ ูููุฉ.
   * Props: `{ value:number, min?:number, max?:number }`;  Events: `data-oninc`, `data-ondec`, `data-onpressqty` (ููุชุญ Numpad).

8. **Avatar / StatusDot** *(ุงุฎุชูุงุฑูุงู)*

   * ุงููุฏู: ูููุฉ ุงููุณุชุฎุฏู + ูุคุดุฑ ุญุงูุฉ.

### 1.2 Layout (ุชุฎุทูุทุงุช ุฎูููุฉ)

9. **Card / Surface / Panel**

   * ููุงุทู `header/body/footer`, ุธูุงู ูุงุนูุฉุ ุญูุงู 2xl.

10. **Stack / HStack / VStack / Grid / ResponsiveGrid**

    * ุงููุฏู: ุชุฑููุจุงุช ูุชูุฑุฑุฉ ูุชุณุฑูุน ุงูุจูุงุก ุงููุฑุฆู.

11. **Toolbar / Segmented**

    * ุงููุฏู: ุดุฑูุท ุฅุฌุฑุงุกุงุช ุฃู ุชุจููุจ ููุทุนู ุจุณูุท (ูููุน ุงูุฎุฏูุฉ ูุซูุงู).

12. **ScrollArea**

    * ุงููุฏู: ุชูุฑูุฑ ุฏุงุฎูู ุจุนุฑุถ/ุงุฑุชูุงุน ุซุงุจุชูู ูุน ุธูุงู ุฏุงุฎููุฉ ุนูุฏ ุงูุญูุงู.

13. **PageHeader**

    * ุงููุฏู: ุนููุงู + ููุทูุฉ ุฅุฌุฑุงุกุงุช.

### 1.3 Overlays (ุชุฑุงูุจุงุช)

14. **Modal**

    * Props: `{ open:boolean, title?:string, size?:'sm'|'md'|'lg'|'xl'|'full', closeOnEsc?:true, closeOnOutside?:true }`
    * A11y: `role=dialog`, `aria-modal`, Trap ูููุณุ ุฅุบูุงู ุจู ESC/ุฎุงุฑุฌ.

15. **Sheet (Drawer)**

    * ุงูููุงุถุน: `right|left|bottom`.
    * ุงูุงุณุชุฎุฏุงู: ูุฏููุนุงุช/ููุนุฏูููุงุช/ูุฑุชุฌุนุงุช/ุชูุงุตูู ุทุงููุฉ.

16. **Popover / Tooltip / ContextMenu**

    * ููุจุซูุงุช ุณุฑูุนุฉ ูุฑุชุจุทุฉ ุจูุฑุณุงุฉ.

17. **ConfirmDialog**

    * ุชุฃููุฏ ุฅุฌุฑุงุก ุญุณุงุณ (ุญุฐู/ุฎุตู/ูููโฆ)ุ ุฃุฒุฑุงุฑ `Confirm/Cancel`.

18. **Toast / ToastStack**

    * ุฑุณุงุฆู ุนุงุจุฑุฉ ุจูุณุชููุงุช ูุชุนุฏุฏุฉ ูููุงุถุน ูุฎุชููุฉ.

### 1.4 ุฅุฏุฎุงู ูุชูุฏูู ูุจุญุซ

19. **SearchBar** *(ุฌุฏูุฏ)*

    * Props: `{ value, placeholder, onSearch, chips?:Array<{id,label,icon?,removable?}> }`
    * ูุฏุนู ุงุฎุชุตุงุฑุงุช (`/` ููุชุฑููุฒ)ุ ูุญุฐู ูุจุณููุงุช.

20. **AsyncSelect / Combobox**

    * ุชุญููู ูุชุฃุฎุฑ + ุญุงูุฉ Loading/Empty/Error + Debounce.

21. **NumpadInteger / NumpadDecimal** *(ุฌุฏูุฏุงู)*

    * ุดุจูุฉ 3ร4 + ููุงุชูุญ: `C`, `โซ`, `OK`.
    * Props: `{ value, min?, max?, title?, confirmLabel? }`.
    * ุฃุญุฏุงุซ: `data-onconfirm`, `data-onclose`.

22. **PinPrompt** *(ุฌุฏูุฏ)*

    * ูุจูู ุนูู Modal + Numpadุ ููุชุญูู ูู PIN ูุจู ุฃูุนุงู ุญุณุงุณุฉ.

23. **OtpInput** *(ุงุฎุชูุงุฑู)*

    * ุฅุฏุฎุงู ุฃููุงุฏ ูุตูุฑุฉ ูู ุนุฏุฉ ุฎุงูุงุช.

### 1.5 ููุงุฆู ูุฌุฏุงูู

24. **List / ListItem** *(ุฌุฏูุฏุงู)*

    * ุตู ุนุงู ูุน `leading|content|trailing` + ูุงุฆูุฉ ุฅุฌุฑุงุกุงุช (โฏ).

25. **VirtualList / VirtualGrid** *(ุฌุฏูุฏุงู)*

    * ุงูุชุฑุงุถูุฉ ููุนูุงุตุฑ > 100 ูุฎูุถ ุชูููุฉ DOM.

26. **DataTable / DataTablePro (ุชุญุณูู)**

    * ูุฑุฒ/ุชุตููุฉ/ุชุฌููุน/ุชุฑููู ุตูุญุงุช + ุชุญููู ูู ูุตุฏุฑ ุบูุฑ ูุชุฒุงูู + Empty/Loading/Error + ุชุญุฏูุฏ ุตููู + ุฃุนูุฏุฉ ูุงุจูุฉ ููุฅุฎูุงุก.

### 1.6 Utilities (ูุฑุงูู)

27. **CurrencyUtil**: ุชูุณูู/ุชุญููู ุงูุนููุงุช.
28. **Hotkeys**: ุชุณุฌูู ุงุฎุชุตุงุฑุงุช ุนุงูููุฉ.
29. **PortalRoot / FocusTrap**: ููุฌุณุชูุงุช ุงูุชุฑุงูุจุงุช.
30. **Exporter**: ุทุจุงุนุฉ/ุชุตุฏูุฑ HTML/CSV.
31. **PrintPreview** *(ุฌุฏูุฏ)*: ูุนุงููุฉ ุทุจุงุนุฉ ุญุฑุงุฑูุฉ 58/80mm ูุน ุฎุทูุท ุซุงุจุชุฉ ุงูุนุฑุถ.
32. **LoadingOverlay / Skeleton / Spinner**.
33. **EmptyState** *(ุฌุฏูุฏ)*: ุญุงูุฉ ูุง ูุชุงุฆุฌ ุจุฃููููุฉ ูุฑุณุงูุฉ ูุฅุฌุฑุงุก.
34. **FormHint / FieldError**: ุฑุณุงุฆู ูุณุงุนุฏุฉ ูุฃุฎุทุงุก ููุงุฐุฌ.
35. **KeymapHelp** *(ุฌุฏูุฏ)*: ูุงูุฐุฉ ูุณุงุนุฏุฉ ุงุฎุชุตุงุฑุงุช.

> **ุญุงูุฉ ุงูุชูุงูุฑ:** ุจุนุถ ูุฐู ุงููููููุงุช ููุฌูุฏ ูุฌุงูุฒุ ูุจุนุถูุง ูุญุชุงุฌ **ุชุญุณูู**ุ ูุฃุฎุฑู **ุฌุฏูุฏุฉ** ุณูุถูููุง. ุงูุชุฑุชูุจ ุงูุฒููู ููุฅุถุงูุฉ ูู ยง6.

---

## 2) ูููููุงุช POS ุงููุชุฎุตุตุฉ (ูุจููุฉ ููู ุงูุนุงูุฉ)

> ุชูุญูุธ ูู `pos-comp.js`ุ **ููููุน** ูุถุน ููููู ุนุงู ูููุง.

* **TopBar.POS**: ุดุนุงุฑ/ุซูู/ูุบุฉ/ุญุงูุฉ ูุฑุฏููุฉ/ุชุณุฌูู ุฏุฎูู.
  *ูุจูู ูู*: PageHeader + Button + Badge + IconEmoji.

* **OrderHeader.POS**: ุงุฎุชูุงุฑ ููุน ุงูุฎุฏูุฉ (ุตุงูุฉ/ุฏูููุฑู/ุชูู ุฃูุงู) + ุฒุฑ **TableMap** ุฃู **CustomerPicker**.
  *ูุจูู ูู*: Segmented + Button + SearchBar/AsyncSelect.

* **MenuGrid.POS**: ุดุจูุฉ ุฃุตูุงู ุจุจุญุซ ูุชุตูููุงุชุ Lazy + VirtualGridุ ููุฑุฉ ุชุถูู ุณุทุฑูุง.
  *ูุจูู ูู*: SearchBar + Chip + Card + VirtualGrid + EmptyState.

* **OrderLinesList.POS**: ุฃุณุทุฑ ุงูุทูุจ ูุน **QtyBadge** ู**LineQuickActions** (โฏ: Notes/Removals/Addโons/Discount/Delete/Return).
  *ูุจูู ูู*: List/ListItem + QtyStepper + Popover/Sheet + ConfirmDialog + PinPrompt.

* **ModifiersSheet.POS**: ูุฌููุนุงุช (addon/removal/sub/size) ูุน ููุงุนุฏ min/max ูุชุณุนูุฑ ููุฑู.
  *ูุจูู ูู*: Sheet + Tabs + List + Checkbox/Radio + Badge.

* **TablesModule.POS**:

  1. **TableMap**: ุฎุฑูุทุฉ ุณุฑูุนุฉ ุจุญุงูุงุช ๐ข๐๐ตโซ + Merge/Split/Move/Lock.
  2. **TableList**: ุจุญุซ/ูุฑุฒ/ุณุนุฉ/ูููุน.
  3. **TableDetails**: **Orders ุงููุนููุฉ ุนูู ุงูุทุงููุฉ** (ูุชุญ/ุงุณุชุฆูุงู/ุชุญุตูู)ุ **Reservations** (ุฅูุดุงุก/ุชุนุฏูู/ุฅูุบุงุก/ุชูุนูู)ุ **Guests**ุ Lock/Unlock.
     *ูุจูู ูู*: DataTablePro + Sheet/Modal + Toolbar + Badge + IconEmoji + Button + List/ListItem + DescriptionList.

* **CustomerPicker.POS**: ุจุญุซ ุจุงููุงุชู/ุงูุงุณู + ุฅูุดุงุก ุนููู/ุนููุงู ุฌุฏูุฏ (Select ูุงุจู ููุจุญุซ) + ุนุฑุถ ูุฎุชุตุฑ ุจูุงูุงุช ุงูุนููู.
  *ูุจูู ูู*: AsyncSelect/Combobox + Modal/Sheet + Form primitives.

* **PaymentsSheet.POS**: ูุณุงุฆู `cash|card|wallet|online|coupon` ูุน **Split** (byAmount/byItems/byGuests)ุ ูุชุจูู ุญููุ ูุฅููุงู.
  *ูุจูู ูู*: Sheet + NumpadDecimal + Segmented + List + InlineAlert + DescriptionList + PrintPreview.

* **PaymentRefundSheet.POS**: ุนูุณ ูุฏููุนุงุช (ูููุฏ ุจุนูููุฉ ุฃุตููุฉ ุฃู ุญุฑู).
  *ูุจูู ูู*: Sheet + DataTable + NumpadDecimal + ConfirmDialog + PinPrompt.

* **ReturnsSheet.POS**: ูุฑุชุฌุนุงุช **ุนูููุฉ** ุจุนุฏ ุงูุฏูุน ููุทุ ุชุธูุฑ **ุงูุนูุงุตุฑ ุงููุงุจูุฉ ููุฅุฑุฌุงุน** ููููุงุชูุง ุงููุชุจููุฉุ ูุง ุฎุตููุงุช/ุชุนุฏููุงุชุ ุชููุดุฆ ุณูุฏุงุช ูุฑุชุฌุน ูุชุนุฏุฏุฉ ูุฑุชุจุทุฉ ุจุงููุงุชูุฑุฉ ุงูุฃุตููุฉุ ุทุจุงุนุฉ/ุญุฐู ุจู PIN.
  *ูุจูู ูู*: Sheet + List/ListItem + NumpadInteger + DescriptionList + DataTable + PinPrompt + ConfirmDialog + PrintPreview.

* **ReportsPanel.POS**: ุชูุงุฑูุฑ (Shift / Sales / Orders) ูุน ููุงุชุฑ ุญููุฉ ููุตุงุฏุฑ IndexedDBุ ููุชุญ ุงูุทูุจ ูู ุงููุชุงุฆุฌ.
  *ูุจูู ูู*: DataTablePro + DateRange + AsyncSelect + Exporter + Toolbar + EmptyState.

* **PrintPreviewSheet.POS**: ูุนุงููุฉ ุญุฑุงุฑูุฉ 58/80mm (Kitchen/Customer) + ุฃูุฑ ูุชุญ ุฏุฑุฌ ุงููุงุด.
  *ูุจูู ูู*: Modal/Sheet + PrintPreview + Button.

* **FooterActionBar.POS**: ุดุฑูุท ุซุงุจุช: Save, Park/Resume, Print, Settle.
  *ูุจูู ูู*: Toolbar + Button + IconEmoji.

---

## 3) ููุงุฐุฌ ุจูุงูุงุช ููุฌุฒุฉ (ููุงูุงุช ุฑุฆูุณูุฉ)

* **Item**: `id, category, translations{ar,en}, price, image?, modifiers_profile_id?, tax_group?`
* **ModifiersProfile**: `groups[{ id, label{ar,en}, type(addon|removal|sub|size), selection(single|multi), min?, max?, items[{id,label{ar,en},priceDelta?,defaultIncluded?}] }]`
* **Table**: `id, name, section?, seats, status('free'|'occupied'|'cleaning'|'locked'), locked_by?`
* **Reservation**: `id, customer{name,phone}, table_ids[], headcount, time{start,end}, status('pending'|'active'|'canceled'|'done')`
* **Customer**: `id, name, phone, notes?, addresses[{id,label,line1,area,city,geo?}]`
* **Order**: `id, type('dine_in'|'takeaway'|'delivery'), table_ids?, customer?, status('new'|'in_preparation'|'prepared'|'delivered'|'paid'), lines[], discount_total, service, delivery_fee, vat, grand_total, shift_id?, cashier?, created_at, updated_at`
* **OrderLine**: `id, item_id, title, qty, price, mods{addons[],removals[],subs?,size?}, modDelta, discount?, notes?`
* **Payment**: `id, order_id, method('cash'|'card'|'wallet'|'online'|'coupon'), amount, currency, split_id?, guest_name?`
* **Return**: `id, base_order_id, lines[{order_line_id, qty}], total, created_at`
* **PaymentRefund**: `id, order_id, amount, method, original_payment_id?`
* **Shift / Employee**: ููุง ูู ูุชุนุงุฑู.

---

## 4) ุชุฏูููุงุช ุฑุฆูุณูุฉ (Flows)

### 4.1 ุฅุถุงูุฉ ุตูู + ูุนุฏูููุงุช

* ููุฑุฉ ุนูู ุจุทุงูุฉ ุงูุตูู โ ุฅูุดุงุก OrderLine ุงูุชุฑุงุถู. ุฅู ูุงู `modifiers_profile_id` ููุฌูุฏูุงุ ูุชุญ **ModifiersSheet.POS**. ุนูุฏ ุงูุญูุธ: ุญุณุงุจ `modDelta` ูุชุญุฏูุซ ุงูุฅุฌูุงููุงุช.

### 4.2 ุชุนุฏูู ุงููููุฉ ุงูุณุฑูุน

* ุงูููุฑ ุนูู ุดุงุฑุฉ ุงููููุฉ ุฃู ุงููููุฉ โ **NumpadInteger** โ ุชุฃููุฏ โ ุชุญุฏูุซ ุงูุณุทุฑ ุซู `computeTotals()`.

### 4.3 ุดุฑูุท ุฅุฌุฑุงุกุงุช ุงูุณุทุฑ (โฏ)

* **Notes**: ูุต ุญุฑ ูููุทุจุฎ.
* **Removals/Addโons**: ูุชุญ **ModifiersSheet.POS**.
* **Discount**: ุฎุตู ุจูุฏ (ูุณุจุฉ/ูููุฉ) ูุชุทูุจ **PinPrompt** ุญุณุจ ุตูุงุญูุงุช ุงููุณุชุฎุฏู.
* **Delete**: ุญุฐู ุจูุฏ ูุน **ConfirmDialog + PinPrompt**.
* **Return**: (ููุณูุฏุงุช ุงููุฏููุนุฉ ููุท) ูููู ููุณูุงู **ReturnsSheet.POS** ูุน ููุฏ ุงููููุงุช ุงููุชุจููุฉ.

### 4.4 ุงูุทุงููุงุช ูุงูุญุฌูุฒุงุช (Dineโin)

* **TableMap**: ุญุงูุงุช ๐ข ูุดููุฑุฉ ูููููุงุ **Occupied** ุชุนุฑุถ ุนุฏุฏ ุงูุทูุจุงุช ุงููุนููุฉ. ุงูููุฑ ูุธูุฑ **TableDetails** ุจูุงุฆูุฉ **Orders ุนูู ุงูุทุงููุฉ** (ูุชุญ/ุงุณุชุฆูุงู/ุชุญุตูู)ุ ู**Reservations** (ุฅูุดุงุก/ุชุนุฏูู/ุฅูุบุงุก).
* **ManyโtoโMany**:

  * ุทูุจ ูุงุญุฏ โข ุนุฏุฉ ุทุงููุงุช (ุนุฒููุงุช).
  * ุทุงููุฉ ูุงุญุฏุฉ โข ุนุฏุฉ ุทูุจุงุช (ุฃุตุฏูุงุก ููู ุจุณูุฏ ูููุตู) ุนุจุฑ **Unlock** ุงููุคูุช ุซู **Lock** ุจุนุฏ ุงูุฅุณูุงุฏ.

### 4.5 ุงููุฏููุนุงุช ูุงูุชูุณูู

* **PaymentsSheet.POS**: ุฅุถุงูุฉ ุฏูุนุงุช ูุชุนุฏุฏุฉ ุจูุณุงุฆู ูุฎุชููุฉุ **Split** ุญุณุจ ุงููุจูุบ/ุงูุนูุงุตุฑ/ุงูุถูููุ ูุชุงุจุนุฉ ุงููุชุจูู ุญููุงุ ุนูุฏ `finalize` ุชุบููุฑ ุงูุญุงูุฉ ุฅูู `paid` ุซู ุทุจุงุนุฉ ูุฅุฑุณุงู ุฃูุฑ ูุชุญ ุฏุฑุฌ ุงููุงุด.

### 4.6 ุงููุฑุชุฌุนุงุช ุงูุนูููุฉ (Returns)

* ูุชุงุญุฉ ููุท ููุฃูุงูุฑ **Paid**.
* ุงูุดุงุดุฉ ุชุนุฑุถ ููุท **ุฃุณุทุฑ ุงููุงุชูุฑุฉ ุงูุฃุตููุฉ** ุจูููุงุช **ูุงุจูุฉ ููุฅุฑุฌุงุน** (ุงูุฃุตู โ ูุง ุฃูุฑุฌูุน ุณุงุจููุง).
* ูุง ุฎุตููุงุช/ุชุนุฏููุงุชุ ุงูุณุนุฑ ุจุญุณุจ ุงูุฃุตู.
* ุญูุธ โถ ุฅูุดุงุก ุณูุฏ ูุฑุชุฌุน ุฌุฏูุฏ **ูุฑุชุจุท** ุจุงูุฃุตูุ ููููู ูุฌูุฏ **ุนุฏุฉ ุณูุฏุงุช** ููุฃุตู ุฐุงุชูุ ูุน ุทุจุงุนุฉ/ุญุฐู (PIN).

### 4.7 ูุฑุฏูุฏุงุช ุงููุฏููุนุงุช (Payment Refunds)

* ุนูุณ ูุงูู ูุณุชูู ูููู **ุฑุจุทู** ุจุนูููุฉ ุฏูุน ุฃุตููุฉ (ุฑุฏ ุฅูู ุจุทุงูุฉ/ูุญูุธุฉ) ุฃู **ุบูุฑ ูุฑุชุจุท** (ููุฏ/ุชุนููุถ).
* ูุชุทูุจ ุตูุงุญูุงุช + **PinPrompt**ุ ูุณุฌูู ูู ุฏูุชุฑ ุงููุฏููุนุงุช.

### 4.8 ุงูุชูุงุฑูุฑ (Reports)

* **Shift Report**: ุฑุตูุฏ ุงูุชุชุงุญู/ุฅุฌูุงูู ูุจูุนุงุช/ุชูุตูู ูุณุงุฆู ุงูุฏูุน/ุฎุตููุงุช/ูุฑุชุฌุนุงุช/ุตุงูู ููุฏูุฉ.
* **Sales Report**: ุชุฌููุน ุญุณุจ ุงูุตูู/ุงูุชุตููู ุถูู ูุฏู ุชุงุฑูุฎ.
* **Orders Report**: ููุชุฑุฉ ุญุณุจ (ุงูุญุงูุฉ/ุงูููุน/ุงููุฑุฏูุฉ/ุงูููุธู/ุงูุทุงููุฉ)ุ ูุชุญ ุงูุทูุจ/ุฅุนุงุฏุฉ ุงูุทุจุงุนุฉ ูู ุงููุชูุฌุฉ.

### 4.9 ุงูุทุจุงุนุฉ ุงูุญุฑุงุฑูุฉ 58/80mm

* ููุงูุจ **Kitchen** ู**Customer**ุ ุฃุณุทุฑ ุจุชูุณูู:
  `โข Big Mac`
  `  + Extra Cheese x2  +7.00`
  `  โ No Onion`
* ุฃุณุนุงุฑ **ุดุงููุฉ ุงูุถุฑูุจุฉ**ุ ูุญุงุฐุงุฉ ุฅุฌูุงููุงุช ููููุ ูุบุชุงู ูุงุชุฌุงูุงู.

---

## 5) ุงููุตูููุฉ ูุงูุฃุฏุงุก ูุงูุงุฎุชุตุงุฑุงุช

* **A11y**: ESC ููุฅุบูุงูุ Trap ูููุณุ `aria-*` ููุธูุฉุ ุชุฑููุฒ ูุฑุฆู ูุงุถุญ.
* **ุงูุฃุฏุงุก**: โค16ms/Frame ูู ุงูููุงุทู ุงูุณุงุฎูุฉุ ุงูุชุฑุงุถูุฉ ุงูููุงุฆู >50 ุนูุตุฑูุงุ Lazy Imagesุ ุฏูุนุงุช ุชุญุฏูุซ truth.
* **Hotkeys**: `F1` ูุณุงุนุฏุฉุ `F2` ูุบุฉุ `F3` ุจุญุซุ `Alt+Q` Numpadุ `Alt+P` ุทุจุงุนุฉุ `Alt+S` ุชุญุตูู.

---

## 6) ุฎุทุฉ ุชูููุฐ ุงููููููุงุช ุงูุนุงูุฉ (ุฃููููุฉ ุงูุฅุถุงูุฉ/ุงูุชุญุณูู)

1. **Modal, Sheet, ConfirmDialog, Toast** (ุชุซุจูุช ุงููุนุงููุฑ ูุงููุตูููุฉ).
2. **NumpadInteger, NumpadDecimal, PinPrompt**.
3. **SearchBar, Tabs, List/ListItem, EmptyState**.
4. **VirtualList/VirtualGrid** (ุฃุฏุงุก ุงูููุงุฆู).
5. **DataTablePro (ุชุญุณูู ุงูุชุญููู ุบูุฑ ุงููุชุฒุงูู + Empty/Loading/Error + ุงูุชูุงุก ุฃุนูุฏุฉ)**.
6. **PrintPreview (58/80mm)** + Exporter hooks.
7. **KeymapHelp, ScrollArea, QtyStepper, PriceText**.

> **ุจุนุฏ ุงูุชูุงู (1โ3)** ูููู ุชุฑููุจ ุฃูู ุฏูุนุฉ ูู ูููููุงุช POS: LineQuickActions, ModifiersSheet, ReturnsSheet ุงูุฃุณุงุณูุฉ.

---

## 7) ูููู ุงููููุงุช ูุงููุณุคูููุงุช (ุจูุง ููุฏ)

* **pos.html**: ุชุญููู Tailwind/ุซูู + ูููุงุช Mishkah + ุญุงููุฉ `#app`ุ ูุง ููุทู.
* **pos-comp.js**: ุฌููุน ูููููุงุช POS **ุงููุชุฎุตุตุฉ** ุงููุจููุฉ ุนูู Comp ุงูุนุงูุฉ (ูุง Atoms ุฅูุง ููุถุฑูุฑุฉ ุงููุตูู).
* **pos.js**: ุชููุฆุฉ ุงูุชุทุจูู (Core.createApp)ุ ุชุนุฑูู `initial truth`, `commands`, `regions`, i18n dictionaries, MockโDataุ ุฑุจุท IndexedDB/WebSocketุ ูุญุณุงุจุงุช ุงูุฅุฌูุงููุงุช.

---

# ๐ ููุญู Mishkah v5 โ ุฑุจุท ุงูููุงุตูุงุช ุจุงูุชูููุฐ

## A) ูุจุงุฏุฆ Mishkah v5

* **ุงูุญูููุฉ ุงููุงุญุฏุฉ**: `app.truth` ูู ุงููุตุฏุฑ ุงููุญูุฏ ููุญุงูุฉ. ุงูุชุนุฏูู ุญุตุฑููุง ุฏุงุฎู **ุฃูุงูุฑ** (commands) ูุน `truth.set()` ู`truth.batch()`.
* **ุงูููุงูุงุช ุงููุณุฌููุฉ**: ุฃู ููููู ููุณุชุฏุนู ูุน `uniqueKey` ููุฎุงุทูุจ ูุจุงุดุฑุฉ ูููุนูููู ุจุงูู `data-m-k`; ูุฌููุนุงุช ุนุจุฑ `groupKey` ุจู `data-m-g`.
* **ุงูุชุญุฏูุซ ุงูุฌุฑุงุญู**: ุจุนุฏ ูู ุฃูุฑุ ุนููู ุฃุตุบุฑ Region ูุชุฃุซุฑ: `truth.mark('menu-panel')`, `truth.mark('order-panel')`, โฆุ ุงูุญุงูุฉ ุชุชุฏูู ุชููุงุฆููุงุ ูุงุณุชุนูู `truth.flush(opts?)` ุนูุฏ ุงูุญุงุฌุฉ ูุงุฌุจุงุฑ ุงูุชุญุฏูุซ ุฃู ูุฎูุงุฑุงุช ูุซู `keepScroll/except` (ูุซู `truth.flush({ except:['modals-root'] })`).
* **ุชูููุถ ุงูุฃุญุฏุงุซ**: ุงุฑุจุท ุงูุชูุงุนูุงุช ุจุณูุงุช `data-on*` ููุท.
* **ุงูุจูุฆุฉ**: `env.toggleTheme()`, `env.setLocale()`, `env.toggleDir()`ุ ูู ุงูุชูุณููุงุช ุนุจุฑ ุฎุงุตูุฉ `tw` ุงููุชูุงููุฉ ูุน RTL/Dark.

## B) ุฎุฑูุทุฉ ุงูููุงุทู (ูุจูุฏุฌุช ุงูุฃุฏุงุก)

* `pos-header` โ 8ms
* `menu-panel` โ 12ms
* `order-panel` โ 12ms
* `footer-bar` โ 6ms
* `modals-root` โ 8ms
* `toasts-root` โ 4ms

## C) ูุงุฌูุงุช ุงููููููุงุช ุงูุนุงูุฉ (ุดูู DSL ูุฎุชุตุฑ)

> **ูุซุงู โ NumpadInteger**

* Props: `{ value, min=1, max?, title?, confirmLabel?='OK' }`
* Events: `data-onconfirm="pos.numConfirm"`, `data-onclose="ui.closeSheet"`
* ุฃูุงูุฑ ูุชููุนุฉ: `numKey`, `numSync`, `numConfirm(lineId,value)` โ ุชุญุฏูุซ `order.lines[idx].qty` ุซู `computeTotals()` ุซู `truth.mark('order-panel')`.

> **ูุซุงู โ PinPrompt**

* Props: `{ reason:'delete_line'|'bill_discount'|'returns'|'refund'|..., attempts?:3 }`
* Events: `data-onverify="sec.verifyPin"` โ ูุฌุงุญ: ูุชุงุจุนุฉ ุงูุฅุฌุฑุงุกุ ูุดู: Toast ุชุญุฐูุฑูุ ุชุณุฌูู ุงููุญุงููุฉ ูู `audit`.

> **ูุซุงู โ ListItem**

* Slots: `leading|content|trailing`;
* Events: `data-onclick`, `data-onmore` (ููุชุญ Popover ุจุงูุฅุฌุฑุงุกุงุช).
* ุงุณุชุฎุฏุงู ูู **OrderLinesList.POS** ู**ReturnsSheet.POS** ู**ReportsPanel.POS**.

## D) ุฑุจุท POS โ Comp (ุฎุฑุงุฆุท ุชุฑููุจ)

* **MenuGrid.POS** โข SearchBar + Chip + Card + VirtualGrid + EmptyState.
* **OrderLinesList.POS** โข List/ListItem + QtyStepper + Popover/Sheet + PinPrompt + ConfirmDialog.
* **ModifiersSheet.POS** โข Sheet + Tabs + Checkbox/Radio + List + Badge.
* **TablesModule.POS** โข DataTablePro + Toolbar + List + Modal/Sheet + DescriptionList + IconEmoji.
* **PaymentsSheet.POS** โข Sheet + Segmented + NumpadDecimal + DescriptionList + InlineAlert + PrintPreview.
* **PaymentRefundSheet.POS** โข Sheet + DataTable + NumpadDecimal + PinPrompt + ConfirmDialog.
* **ReturnsSheet.POS** โข Sheet + List/ListItem + NumpadInteger + DescriptionList + DataTable + PinPrompt + PrintPreview.
* **ReportsPanel.POS** โข DataTablePro + DateRange + AsyncSelect + Exporter + Toolbar + EmptyState.
* **FooterActionBar.POS** โข Toolbar + Button + IconEmoji.

## E) ููุงููุณ I18n โ ููุงุชูุญ ุฃุณุงุณูุฉ

```
ui: {
  shift, active, inactive, dark, light, search, dine_in, takeaway, delivery,
  select, table, customer, guest, subtotal, service, delivery_fee, vat, total,
  save_order, print, settle_pay_print, no_items, discount, confirm, cancel,
  return, notes, removals, addons, override_price, close, qty,
  reports, status, type, cashier, shift_no, prepared, delivered, paid,
}
```

## F) ุฎุทุฉ ุงูุชูููุฐ ุงููุฑุญููุฉ

1. **ุงูููุชุจุฉ ุงูุนุงูุฉ ุฃูููุง**: Modal/Sheet/Confirm + Numpad(s) + PinPrompt + SearchBar + Tabs + List/ListItem + EmptyState.
2. **POS ุงูุฏูุนุฉ 1**: MenuGrid.POS + OrderLinesList.POS + LineQuickActions + ModifiersSheet.POS (ุฃุณุงุณู).
3. **POS ุงูุฏูุนุฉ 2**: TablesModule.POS (Map/List/Details) ูุน ุนุฑุถ **ุงูุทูุจุงุช ุงููุนููุฉ ููู ุทุงููุฉ** + Reservations CRUD + Lock/Unlock/Merge/Split/Move.
4. **POS ุงูุฏูุนุฉ 3**: PaymentsSheet.POS + Split + PrintPreviewSheet.POS + ุฃูุฑ ูุชุญ ุฏุฑุฌ ุงููุงุด.
5. **POS ุงูุฏูุนุฉ 4**: ReturnsSheet.POS (ูุฑุชุฌุนุงุช ูุชุนุฏุฏุฉ ููุฃุตู) + PaymentRefundSheet.POS (ูููุฏ/ุบูุฑ ูููุฏ).
6. **POS ุงูุฏูุนุฉ 5**: ReportsPanel.POS + ุชูุงูู IndexedDB/WebSocket.
7. **POS ุงูุฏูุนุฉ 6**: FooterActionBar.POS + TopBar.POS ุงููุชูุฏูู (Shift/Reports/Close Shift).

## G) ูุนุงููุฑ ุงููุจูู ุงูุฎุงุตุฉ ุจุงูุชูุงุตูู ุงูููุณูุฉ (ุชุฃููุฏ)

* **ุงูุญุฌูุฒุงุช**: ุฅูุดุงุก/ุชุนุฏูู/ุฅูุบุงุกุ ููู ุฒููู ููุทุงููุงุชุ ุชุญูู ุณุนุฉ โฅ headcountุ ุชูุดูุท ุชููุงุฆู ุนูุฏ ุจุฏุก ุงูููุนุฏ.
* **ุงูุทูุจุงุช ุงููุนููุฉ ุนูู ุงูุทุงููุงุช**: ุชุธูุฑ ูู **TableDetails** ูุน ุฅุฌุฑุงุกุงุช: ูุชุญ/ุงุณุชุฆูุงู/ุชุญุตูู/ููู.
* **ุงููุฑุชุฌุนุงุช ุงูุนูููุฉ**: ูุง ุชุชุฌุงูุฒ ุงูุตุงููุ ุชููุน ุชุฌุงูุฒ ุงููููุงุชุ ุณูุฑูุงู ูุณุชููุ ุฑุจุท ุจุงูุฃุตูุ ุงุณุชุนุฑุงุถ/ุทุจุงุนุฉ/ุญุฐู (PIN)ุ ุชุนุฏุฏ ุงูุณูุฏุงุช ููุฃุตู.
* **ูุฑุฏูุฏุงุช ุงููุฏููุนุงุช**: ุนูุณ ูููุฏ/ุบูุฑ ูููุฏุ ูุณุฌูู ุจุฏูุชุฑ ูุณุชููุ ูุชุทูุจ PINุ ูุธูุฑ ูู ุชูุงุฑูุฑ ุงููุฑุฏูุฉ.
* **ุงูุชูุงุฑูุฑ ุงูุชูุตูููุฉ**: ุณุฑูุนุฉ ูู IndexedDBุ ููุงุชุฑ ุญูุฉุ ูุชุญ ุงูุทูุจ ูู ุงููุชุงุฆุฌุ ุชุตุฏูุฑ CSV/ุทุจุงุนุฉ.
* **ุงูุฃุฏุงุก**: ุงูุชุฑุงุถูุฉ ุงูููุงุฆูุ Lazy Imagesุ โค16ms/Frameุ ูุง Rebuild ุดุงูู ุฅูุง ุนูุฏ ุงูุถุฑูุฑุฉ.

---

> **ุฎูุงุตุฉ ุชูููุฐูุฉ:** ูุจู ููุณ `pos-comp.js` ูููููู ุงููููููุงุช ุงูุนุงูุฉ ุงููุงูุตุฉ (SearchBar, Tabs, NumpadInteger/Decimal, PinPrompt, List/ListItem, EmptyState, VirtualList/Grid, PrintPreviewุ ูุชุญุณูู DataTablePro). ุนูุฏูุง ูุตุจุญ ุชุฑููุจ ููุฏูููุงุช POS (ุงูุญุฌูุฒุงุชุ ุงูุทูุจุงุช ุงููุนููุฉุ ุงููุฑุชุฌุนุงุช ุงูุนูููุฉุ ูุฑุฏูุฏุงุช ุงููุฏููุนุงุชุ ุงูุชูุงุฑูุฑ) ูุจุงุดุฑูุง ูููุงุณููุงุ ูุน ุงูุชุฒุงู ุตุงุฑู ุจูุตู ุงูุญุงูุฉ (Truth) ุนู ุงูููุทู (Commands) ุนู ุงูุนุฑุถ (Comp/Atoms) ูุชุญุฏูุซ ุฌุฑุงุญู ููููุงุทู.-

