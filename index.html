<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Mishkah â€” Index</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
      :root {
        font-family: 'Tajawal', 'Cairo', system-ui, sans-serif;
      }
      body {
        margin: 0;
        background: radial-gradient(circle at top, rgba(79, 70, 229, 0.08), transparent 55%),
                    radial-gradient(circle at bottom, rgba(56, 189, 248, 0.12), transparent 60%),
                    #f5f7ff;
        color: #0f172a;
      }
    </style>
  </head>
  <body>
    <div id="app"></div>

    <script src="./mishkah-utils.js"></script>
    <script src="./mishkah.core.js"></script>
    <script src="./mishkah-ui.js"></script>
    <script src="./readme.js"></script>
    <script src="./template/pages-shell.js"></script>
    <script src="./ui/index-ui.js"></script>
    <script>
      (function () {
        const M = window.Mishkah;
        const Index = M.apps.index;
        const database = Index.buildDatabase();
        const template = M.templates.PagesShell;
        const { TL } = Index.makeLangLookup(database);
        database.head = { title: TL('app.title') };

        M.app.setBody(function (db) {
          const lookup = Index.makeLangLookup(db);
          db.head = { title: lookup.TL('app.title') };
          return template.render(db);
        });

        const app = M.app.createApp(database, {});
        const templateOrders = template.createOrders(database);
        const orders = Object.assign({}, Index.orders, templateOrders);
        const twx = M.utils.twcss.auto(database, app);
        app.setOrders(Object.assign({}, orders, M.UI.orders, twx.orders));
        app.mount('#app');
      })();
    </script>
  </body>
</html>
