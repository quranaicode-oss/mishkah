<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Ù…Ø´ÙƒØ§Ø© CSS â€” Ù‡ÙˆÙŠØ© Ø§Ù„Ø¥Ø·Ø§Ø±</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&family=Reem+Kufi:wght@500;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./mishkah-css.css" />
    <style>
      :root {
        background: var(--mk-bg);
      }

      body {
        margin: 0;
      }
    </style>
  </head>
  <body>
    <div id="app"></div>

    <template id="mishkah-css-lab">
      <section data-m-scope="mk.css">
        <script type="application/json" data-m-env>
          {
            "theme": "dark",
            "lang": "ar",
            "dir": "rtl"
          }
        </script>

        <script type="application/json" data-m-data data-m-path="i18n.strings">
          {
            "hero.title": { "ar": "Ù…Ø´ÙƒØ§Ø© CSS â€” Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø­Ø¯ÙŠØ«Ø©", "en": "Mishkah CSS â€” Modern Arabic Identity" },
            "hero.tagline": {
              "ar": "Ø¥Ø·Ø§Ø± Ø£Ù†ÙŠÙ‚ ÙŠÙ…Ø²Ø¬ Ø§Ù„Ø±Ù…ÙˆØ² Ø§Ù„Ø¯Ù„Ø§Ù„ÙŠØ© Ù…Ø¹ Ø§Ù„Ù…ÙƒÙˆÙ‘Ù†Ø§Øª Ø§Ù„Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ®ØµÙŠØµ Ù„Ø¥Ù†Ø¬Ø§Ø² Ù…ÙˆØ§Ù‚Ø¹ ÙƒØ§Ù…Ù„Ø© Ø¨Ø¨Ø¶Ø¹Ø© Ø£Ø³Ø·Ø±.",
              "en": "An elegant layer of tokens and components that ship complete experiences in a handful of declarations."
            },
            "section.identity": { "ar": "Ù‚ØµØ© Ø§Ù„Ù‡ÙˆÙŠØ©", "en": "Identity Story" },
            "section.tokens": { "ar": "Ø®Ø±Ø§Ø¦Ø· Ø§Ù„Ø£Ù„ÙˆØ§Ù† ÙˆØ§Ù„Ø±Ù…ÙˆØ²", "en": "Token Atlas" },
            "section.components": { "ar": "Ù…Ø¹Ø±Ø¶ Ø§Ù„Ù…ÙƒÙˆÙ‘Ù†Ø§Øª", "en": "Component Gallery" },
            "section.utilities": { "ar": "Ù…Ø®ØªØ¨Ø± Ø§Ù„Ø£Ø¯ÙˆØ§Øª", "en": "Utility Lab" },
            "section.experiments": { "ar": "Ù…Ø®ØªØ¨Ø± Ù…Ø´ÙƒØ§Ø©", "en": "Mishkah Playground" },
            "controls.theme": { "ar": "Ø§Ù„Ø«ÙŠÙ…", "en": "Theme" },
            "controls.language": { "ar": "Ø§Ù„Ù„ØºØ©", "en": "Language" },
            "controls.direction": { "ar": "Ø§Ù„Ø§ØªØ¬Ø§Ù‡", "en": "Direction" },
            "controls.openModal": { "ar": "Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù†Ø§ÙØ°Ø©", "en": "Show modal" },
            "controls.openDrawer": { "ar": "ÙØªØ­ Ø§Ù„Ø´Ø±ÙŠØ·", "en": "Toggle drawer" },
            "controls.toast": { "ar": "Ø£Ø¸Ù‡Ø± ØªÙ†Ø¨ÙŠÙ‡Ù‹Ø§", "en": "Show toast" },
            "modal.title": { "ar": "Ù†Ø§ÙØ°Ø© Ù…Ø´ÙƒØ§Ø©", "en": "Mishkah Modal" },
            "modal.copy": {
              "ar": "ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù‡ÙˆÙŠØ© ØªØªØ¬Ø³Ø¯ ÙÙŠ Ø£Ù†Ù…Ø§Ø· Ù…Ø´ØªÙ‚Ø© Ù…Ù† Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª ÙÙ‚Ø·ØŒ Ù…Ø§ ÙŠÙ…Ù†Ø­Ùƒ Ø«ÙŠÙ…Ø§Øª ØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯Ø©.",
              "en": "Identity lives in variables, allowing unlimited theming with zero overrides."
            },
            "drawer.title": { "ar": "Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø³Ø±ÙŠØ¹", "en": "Rapid Build Tracks" },
            "drawer.copy": {
              "ar": "Ø­Ø±Ù‘Ùƒ Ø§Ù„Ù…ÙƒÙˆÙ‘Ù†Ø§ØªØŒ ÙØ¹Ù‘Ù„ Ø§Ù„Ø£Ø¯ÙˆØ§ØªØŒ ÙˆØ§Ù†Ø·Ù„Ù‚ Ø¥Ù„Ù‰ ØµÙØ­Ø© Ù…ØªÙƒØ§Ù…Ù„Ø© ÙÙŠ Ø¯Ù‚Ø§Ø¦Ù‚.",
              "en": "Compose, activate utilities, and ship full pages in minutes."
            },
            "toast.message": { "ar": "ØªÙ… ØªÙØ¹ÙŠÙ„ Ø·Ø§Ù‚Ø© Ù…Ø´ÙƒØ§Ø©!", "en": "Mishkah energy engaged!" }
          }
        </script>

        <script type="application/json" data-m-data data-m-path="data">
          {
            "hero": {
              "badge": "Ù‡ÙˆÙŠØ© Ù…Ø´ÙƒØ§Ø©",
              "cta": {
                "ar": "Ø§Ø¨Ø¯Ø£ Ù…Ø´Ø±ÙˆØ¹Ùƒ",
                "en": "Start your build"
              }
            },
            "principles": [
              {
                "icon": "ğŸŒ…",
                "title": { "ar": "Ø¥Ø´Ø±Ø§Ù‚Ø© Ø¹Ø±Ø¨ÙŠØ© ØµØ§ÙÙŠØ©", "en": "Radiant Arabic spirit" },
                "description": {
                  "ar": "Ø£Ù„ÙˆØ§Ù† Ù…Ø³ØªÙˆØ­Ø§Ø© Ù…Ù† Ø§Ù„ÙØ¬Ø± ÙˆØ§Ù„Ø¨Ø­Ø±ØŒ ØªØ¹Ù…Ù„ Ø¨Ø³Ù„Ø§Ø³Ø© ÙÙŠ Ø§Ù„ÙˆØ¶Ø¹ÙŠÙ† Ø§Ù„Ù„ÙŠÙ„ÙŠ ÙˆØ§Ù„Ù†Ù‡Ø§Ø±ÙŠ.",
                  "en": "Colorways inspired by dawn and sea, fluent in both dark and light modes."
                }
              },
              {
                "icon": "ğŸ§¬",
                "title": { "ar": "Ø±Ù…ÙˆØ² Ø¯Ù„Ø§Ù„ÙŠØ© Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ¨Ø¯ÙŠÙ„", "en": "Swappable semantic tokens" },
                "description": {
                  "ar": "ÙƒÙ„ Ø®Ø§ØµÙŠØ© Ù…Ø±Ø¦ÙŠØ© ØªÙØ´ØªÙ‚ Ù…Ù† Ù…ØªØºÙŠØ± ÙˆØ§Ø¶Ø­ â€” Ù„Ø§ Ù‚ÙŠÙ… ØµÙ„Ø¨Ø© Ø¨Ø¹Ø¯ Ø§Ù„ÙŠÙˆÙ….",
                  "en": "Every visual trait flows from a clear variableâ€”hardcoded numbers are gone." }
              },
              {
                "icon": "ğŸ§ª",
                "title": { "ar": "ØªØ¬Ø§Ø±Ø¨ Ø³Ø±ÙŠØ¹Ø© Ø¨Ù„Ø§ Ø¹Ù†Ø§Ø¡", "en": "Rapid experimentation" },
                "description": {
                  "ar": "Ù…ÙƒÙˆÙ‘Ù†Ø§Øª Ø¬Ø§Ù‡Ø²Ø© Ùˆ Utilities Ù…Ø®ØªØ§Ø±Ø© ØªÙ…Ù†Ø­Ùƒ ØµÙØ­Ø© ÙƒØ§Ù…Ù„Ø© Ø®Ù„Ø§Ù„ ÙˆØ±Ø´Ø© ÙˆØ§Ø­Ø¯Ø©.",
                  "en": "Ready components and curated utilities let you ship a full page in a single workshop." }
              }
            ],
            "tokens": [
              {
                "name": "--mk-primary",
                "meaning": {
                  "ar": "Ø²Ù…Ø±Ø¯ Ø§Ù„Ø¨Ø­Ø± ÙŠÙ…Ù†Ø­Ùƒ Ù†Ø¨Ø±Ø© Ù‚ÙŠØ§Ø¯ÙŠØ© Ø¯Ø§ÙØ¦Ø©.",
                  "en": "Sea emerald delivers a welcoming leadership accent."
                },
                "usage": "primary"
              },
              {
                "name": "--mk-secondary",
                "meaning": {
                  "ar": "Ø°Ù‡Ø¨ÙŠØ§Øª Ø§Ù„Ø±Ù…Ù„ ØªØ¯Ø¹Ù… Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ© ÙˆØ§Ù„Ø´Ø±Ø§Ø¦Ø­ Ø§Ù„ØªÙˆØ¶ÙŠØ­ÙŠØ©.",
                  "en": "Desert gold powers secondary buttons and highlight strips."
                },
                "usage": "secondary"
              },
              {
                "name": "--mk-surface-1",
                "meaning": {
                  "ar": "Ø³Ø·Ø­ Ø²Ø¬Ø§Ø¬ÙŠ Ù‡Ø§Ø¯Ø¦ Ù„Ù„Ø¨Ø·Ø§Ù‚Ø§Øª ÙˆØ§Ù„Ù…Ø®Ø·Ø·Ø§Øª.",
                  "en": "Calm glass surface for cards and story panels."
                },
                "usage": "surface"
              }
            ],
            "labs": {
              "activeTheme": "dark",
              "activeUtility": "layout",
              "modalOpen": false,
              "drawerOpen": false,
              "toastVisible": false,
              "themes": [
                { "id": "dark", "label": { "ar": "Ù„ÙŠÙ„ÙŠ", "en": "Night" } },
                { "id": "light", "label": { "ar": "Ù†Ù‡Ø§Ø±ÙŠ", "en": "Light" } },
                { "id": "dawn", "label": { "ar": "ÙØ¬Ø±", "en": "Dawn" } },
                { "id": "oasis", "label": { "ar": "ÙˆØ§Ø­Ø©", "en": "Oasis" } }
              ],
              "languages": [
                { "id": "ar", "label": { "ar": "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©", "en": "Arabic" } },
                { "id": "en", "label": { "ar": "Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©", "en": "English" } }
              ],
              "directions": [
                { "id": "rtl", "label": { "ar": "Ø§ØªØ¬Ø§Ù‡ Ø¹Ø±Ø¨ÙŠ", "en": "RTL" } },
                { "id": "ltr", "label": { "ar": "Ø§ØªØ¬Ø§Ù‡ Ù„Ø§ØªÙŠÙ†ÙŠ", "en": "LTR" } }
              ],
              "utilities": [
                {
                  "id": "layout",
                  "title": { "ar": "ØªÙ†Ø¸ÙŠÙ… Ø³Ø±ÙŠØ¹ Ù„Ù„Ù…Ø®Ø·Ø·Ø§Øª", "en": "Instant layout wiring" },
                  "description": {
                    "ar": "Ø§Ø³ØªØ®Ø¯Ù… u-grid Ùˆ u-flex Ù„ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø´Ø±Ø§Ø¦Ø­ Ø¯ÙˆÙ† ÙƒØªØ§Ø¨Ø© CSS Ø¥Ø¶Ø§ÙÙŠØ©.",
                    "en": "Use u-grid and u-flex to orchestrate sections with zero custom CSS."
                  },
                  "classes": ["u-grid", "u-grid-3", "u-gap-4"]
                },
                {
                  "id": "type",
                  "title": { "ar": "Ø·Ø¨Ø§Ø¹Ø© Ù…ØªÙ‘Ø³Ù‚Ø©", "en": "Consistent typography" },
                  "description": {
                    "ar": "Ø·Ø¨Ù‘Ù‚ u-text-fg Ùˆ u-text-muted Ù„Ø¶Ø¨Ø· Ø§Ù„ØªØ¯Ø±Ø¬ Ø§Ù„Ø·Ø¨Ø§Ø¹ÙŠ Ø¹Ø¨Ø± Ø§Ù„ØµÙØ­Ø©.",
                    "en": "Apply u-text-fg and u-text-muted to maintain typographic rhythm." },
                  "classes": ["u-text-fg", "u-text-muted", "u-text-xl"]
                },
                {
                  "id": "elevation",
                  "title": { "ar": "Ø§Ù„Ø§Ø±ØªÙØ§Ø¹ ÙˆØ§Ù„Ø¸Ù„", "en": "Elevation & shadow" },
                  "description": {
                    "ar": "u-shadow Ùˆ u-glass ÙŠØ­ÙˆÙ„Ø§Ù† Ø£ÙŠ Ø­Ø§ÙˆÙŠØ© Ø¥Ù„Ù‰ Ø³Ø·Ø­ Ø²Ø¬Ø§Ø¬ÙŠ Ø£Ù†ÙŠÙ‚.",
                    "en": "u-shadow and u-glass turn any container into a refined glass surface." },
                  "classes": ["u-shadow", "u-glass", "u-rounded-2xl"]
                }
              ]
            },
            "components": {
              "table": [
                {
                  "name": { "ar": "Ø²Ø± Ù…Ø´ÙƒØ§Ø©", "en": "Mishkah Button" },
                  "purpose": { "ar": "ÙŠØ¯ÙŠØ± Ø§Ù„Ø­Ø§Ù„Ø§Øª ÙˆØ§Ù„Ø­Ø±ÙƒØ§Øª Ø¨Ø³Ù„Ø§Ø³Ø©.", "en": "Handles states and motion effortlessly." },
                  "status": "Ready"
                },
                {
                  "name": { "ar": "Ø¨Ø·Ø§Ù‚Ø© Ø³Ø±Ø¯", "en": "Story Card" },
                  "purpose": { "ar": "Ø³Ø·Ø­ Ù…Ø±Ù† Ù„Ù„Ù‚ØµØµ Ø£Ùˆ Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª.", "en": "Flexible surface for stories or product lists." },
                  "status": "Ready"
                },
                {
                  "name": { "ar": "ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø£Ø¯ÙˆØ§Øª", "en": "Utility Lab" },
                  "purpose": { "ar": "ØªØ¬Ø§Ø±Ø¨ Ù…Ø¨Ø§Ø´Ø±Ø© Ù„Ù„ØªØµÙ…ÙŠÙ….", "en": "Hands-on design experiments." },
                  "status": "Preview"
                }
              ]
            }
          }
        </script>

        <style data-m-scope>
          .identity-hero {
            display: grid;
            gap: var(--mk-space-4);
          }

          .identity-grid {
            display: grid;
            gap: var(--mk-space-4);
          }

          @media (min-width: 992px) {
            .identity-grid {
              grid-template-columns: minmax(0, 1.25fr) minmax(0, 1fr);
            }
          }

          .token-board {
            display: grid;
            gap: var(--mk-space-3);
          }

          @media (min-width: 640px) {
            .token-board {
              grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            }
          }

          .token-chip {
            display: grid;
            gap: var(--mk-space-2);
            padding: var(--mk-space-4);
            border-radius: var(--mk-radius-xl);
            border: var(--mk-border-width) solid color-mix(in oklab, var(--mk-border) 45%, transparent);
            background: color-mix(in oklab, var(--mk-surface-0) 70%, transparent);
          }

          .component-grid {
            display: grid;
            gap: var(--mk-space-4);
          }

          @media (min-width: 840px) {
            .component-grid {
              grid-template-columns: repeat(2, minmax(0, 1fr));
            }
          }

          .utility-cards {
            display: grid;
            gap: var(--mk-space-3);
          }

          @media (min-width: 768px) {
            .utility-cards {
              grid-template-columns: repeat(3, minmax(0, 1fr));
            }
          }

          .utility-card {
            padding: var(--mk-space-4);
            border-radius: var(--mk-radius-xl);
            border: var(--mk-border-width) solid color-mix(in oklab, var(--mk-border) 40%, transparent);
            background: color-mix(in oklab, var(--mk-surface-0) 75%, transparent);
            display: grid;
            gap: var(--mk-space-2);
            transition: border-color var(--mk-speed-1) var(--mk-ease), transform var(--mk-speed-1) var(--mk-ease);
          }

          .utility-card.active {
            border-color: color-mix(in oklab, var(--mk-primary) 40%, transparent);
            transform: translateY(-6px);
            box-shadow: var(--mk-shadow-soft);
          }

          .lab-controls {
            display: grid;
            gap: var(--mk-space-3);
          }

          @media (min-width: 768px) {
            .lab-controls {
              grid-template-columns: repeat(2, minmax(0, 1fr));
            }
          }

          .lab-playground {
            display: grid;
            gap: var(--mk-space-4);
          }

          .demo-toolbar {
            display: flex;
            flex-wrap: wrap;
            gap: var(--mk-space-2);
          }

          .component-surface {
            display: grid;
            gap: var(--mk-space-3);
            padding: var(--mk-space-4);
            border-radius: var(--mk-radius-2xl);
            background: color-mix(in oklab, var(--mk-surface-0) 75%, transparent);
            border: var(--mk-border-width) solid color-mix(in oklab, var(--mk-border) 45%, transparent);
          }

          .sample-form {
            display: grid;
            gap: var(--mk-space-3);
          }

          .labs-toast {
            justify-self: start;
          }

          .labs-toast[data-state="visible"] {
            position: relative;
            transform: translateY(0);
          }
        </style>

        <div class="mk-app-shell">
          <div class="mk-app-shell__container">
            <header class="mk-navbar">
              <div class="mk-navbar__brand">
                <span class="mk-badge" data-tone="soft">{state.data.hero.badge}</span>
                <h1 class="mk-navbar__title">{trans('hero.title')}</h1>
                <p class="mk-navbar__tagline u-balance">{trans('hero.tagline')}</p>
              </div>
              <div class="mk-navbar__actions u-flex u-flex-wrap">
                <div class="u-inline-center u-gap-2">
                  <span class="mk-chip" data-state="active">{trans('controls.theme')}</span>
                  <button
                    x-for="theme in state.data.labs.themes"
                    key="theme.id"
                    class="mk-btn {state.env.theme === theme.id ? 'u-ring-primary' : ''}"
                    data-size="sm"
                    data-variant="ghost"
                    onclick="setTheme(theme.id, ctx)"
                  >
                    {theme.label[state.env.lang] || theme.label.ar}
                  </button>
                </div>
                <div class="u-inline-center u-gap-2">
                  <span class="mk-chip">{trans('controls.language')}</span>
                  <button
                    x-for="langOption in state.data.labs.languages"
                    key="langOption.id"
                    class="mk-btn {state.env.lang === langOption.id ? 'u-ring-primary' : ''}"
                    data-size="sm"
                    data-variant="ghost"
                    onclick="setLanguage(langOption.id, ctx)"
                  >
                    {langOption.label[state.env.lang] || langOption.label.ar}
                  </button>
                </div>
                <div class="u-inline-center u-gap-2">
                  <span class="mk-chip">{trans('controls.direction')}</span>
                  <button
                    x-for="dirOption in state.data.labs.directions"
                    key="dirOption.id"
                    class="mk-btn {state.env.dir === dirOption.id ? 'u-ring-primary' : ''}"
                    data-size="sm"
                    data-variant="ghost"
                    onclick="setDirection(dirOption.id, ctx)"
                  >
                    {dirOption.label[state.env.lang] || dirOption.label.ar}
                  </button>
                </div>
              </div>
            </header>

            <section class="identity-hero">
              <div class="mk-card" data-tone="elevated">
                <div class="identity-grid">
                  <div class="u-section">
                    <h2 class="u-section-title">{trans('section.identity')}</h2>
                    <div class="mk-prose">
                      <p>{state.env.lang === 'ar' ? 'Ø¥Ø·Ø§Ø± Ù…Ø´ÙƒØ§Ø© ØµÙÙ…Ù… Ù„ÙŠØ¨Ù†ÙŠ ØµÙØ­Ø© Ù…ØªÙƒØ§Ù…Ù„Ø© Ø¨Ø¨Ø¶Ø¹Ø© Ø£ÙƒÙˆØ§Ø¯ØŒ Ù…Ù† Ø®Ù„Ø§Ù„ Ø¯Ù…Ø¬ tokens Ø¯Ù„Ø§Ù„ÙŠØ© Ù…Ø¹ Ù…ÙƒÙˆÙ‘Ù†Ø§Øª Ø°ÙƒÙŠØ© ÙˆÙˆØ§Ø¬Ù‡Ø§Øª RTL Ø¬Ø§Ù‡Ø²Ø©.' : 'Mishkah is built to deliver full experiences with just a few snippetsâ€”semantic tokens, intelligent components, and instant RTL readiness.'}</p>
                      <p>{state.env.lang === 'ar' ? 'ÙƒÙ„ Ø´ÙŠØ¡ ÙŠØ¨Ø¯Ø£ Ø¨Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª. Ø¨ØªØºÙŠÙŠØ± Ù‚ÙŠÙ…Ø© ÙˆØ§Ø­Ø¯Ø©ØŒ ØªØªØ¨Ø¯Ù„ Ø§Ù„Ù‡ÙˆÙŠØ© ÙƒØ§Ù…Ù„Ø© Ø¯ÙˆÙ† Ø¥Ø¹Ø§Ø¯Ø© ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø£Ù†Ù…Ø§Ø·.' : 'It all starts with variables. Flip a single value and the entire identity follows without rewriting styles.'}</p>
                    </div>
                  </div>
                  <div class="mk-card" data-tone="soft">
                    <h3 class="mk-card__title">{state.env.lang === 'ar' ? 'Ù„Ù…Ø§Ø°Ø§ HTMLxØŸ' : 'Why HTMLx?'}</h3>
                    <p class="mk-card__subtitle">{state.env.lang === 'ar' ? 'HTMLx ØªØ¬Ø¹Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŒ Ø§Ù„Ø£Ù†Ù…Ø§Ø·ØŒ ÙˆØ§Ù„Ù…Ù†Ø·Ù‚ Ù…ØªØ¬Ø§ÙˆØ±ÙŠÙ† Ø¯Ø§Ø®Ù„ Ø§Ù„Ù†Ø·Ø§Ù‚ Ù†ÙØ³Ù‡.' : 'HTMLx keeps data, styles, and logic together in the same scope.'}</p>
                    <div class="mk-prose">
                      <ul>
                        <li>{state.env.lang === 'ar' ? 'Ø£ÙˆØ§Ù…Ø± commit Ùˆ ctx ØªÙ…Ù†Ø­Ùƒ Ø­Ø§Ù„Ø© ÙŠÙ…ÙƒÙ† ØªØªØ¨Ø¹Ù‡Ø§.' : 'Commit + ctx commands give you traceable state.'}</li>
                        <li>{state.env.lang === 'ar' ? 'Ø§Ù„Ù…ÙƒÙˆÙ‘Ù†Ø§Øª Ø§Ù„Ù…Ø¹Ø±Ù‘ÙØ© ÙÙŠ Mishkah UI Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø¹Ø¨Ø± <comp>.' : 'Components declared in Mishkah UI are ready to summon via <comp>.'}</li>
                        <li>{state.env.lang === 'ar' ? 'Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„Ù…Ø¯Ù…Ø¬ Ù„Ù€ RTL Ùˆ LTR ÙŠÙˆÙØ± ÙˆÙ‚Øª Ø§Ù„ØªØ¯ÙˆÙŠÙ„.' : 'Built-in RTL/LTR support saves localization cycles.'}</li>
                      </ul>
                    </div>
                    <div class="u-inline-center u-gap-2">
                      <button class="mk-btn" data-variant="primary">{state.data.hero.cta[state.env.lang] || state.data.hero.cta.ar}</button>
                      <button class="mk-btn" data-tone="soft" data-variant="ghost">Design Tokens</button>
                    </div>
                  </div>
                </div>
              </div>

              <div class="u-grid u-gap-4">
                <div class="mk-card" data-tone="soft">
                  <h3 class="mk-card__title">{state.env.lang === 'ar' ? 'Ø±ÙƒØ§Ø¦Ø² Ø§Ù„Ù‡ÙˆÙŠØ©' : 'Identity Pillars'}</h3>
                  <div class="u-grid u-gap-3">
                    <div class="mk-card" data-tone="soft" x-for="principle in state.data.principles" key="principle.title.ar">
                      <div class="u-inline-center u-gap-2 u-text-lg u-weight-semibold">
                        <span>{principle.icon}</span>
                        <span>{state.env.lang === 'ar' ? principle.title.ar : principle.title.en}</span>
                      </div>
                      <p>{state.env.lang === 'ar' ? principle.description.ar : principle.description.en}</p>
                    </div>
                  </div>
                </div>

                <div class="mk-card" data-tone="soft">
                  <h3 class="mk-card__title">{trans('section.tokens')}</h3>
                  <div class="token-board">
                    <div class="token-chip" x-for="token in state.data.tokens" key="token.name">
                      <strong class="u-text-sm">{token.name}</strong>
                      <span class="mk-chip" data-state="active">{token.usage}</span>
                      <p>{state.env.lang === 'ar' ? token.meaning.ar : token.meaning.en}</p>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <section class="component-grid">
              <div class="mk-card" data-tone="soft">
                <h2 class="u-section-title">{trans('section.components')}</h2>
                <div class="component-surface">
                  <div class="u-inline-center u-gap-2">
                    <button class="mk-btn" data-variant="primary" data-size="md">{state.env.lang === 'ar' ? 'Ø²Ø± Ø±Ø¦ÙŠØ³ÙŠ' : 'Primary'}</button>
                    <button class="mk-btn" data-variant="secondary" data-size="md">{state.env.lang === 'ar' ? 'Ø²Ø± Ø¯Ø§Ø¹Ù…' : 'Secondary'}</button>
                    <button class="mk-btn" data-variant="ghost" data-tone="soft" data-size="md">{state.env.lang === 'ar' ? 'Ù‡Ø§Ø¯Ø¦' : 'Subtle'}</button>
                  </div>
                  <form class="sample-form">
                    <label class="mk-field">
                      <span class="mk-field__label">{state.env.lang === 'ar' ? 'Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ' : 'Email'}</span>
                      <input class="mk-input" type="email" placeholder="name@example.com" />
                    </label>
                    <label class="mk-field">
                      <span class="mk-field__label">{state.env.lang === 'ar' ? 'Ø±Ø³Ø§Ù„Ø©' : 'Message'}</span>
                      <textarea class="mk-input" style="min-height: 120px; padding-block: var(--mk-space-3);"></textarea>
                    </label>
                  </form>
                  <div class="mk-tabs">
                    <div class="mk-tabs__list">
                      <button class="mk-tabs__trigger" data-state="active">{state.env.lang === 'ar' ? 'Ø§Ù„ØªØµÙ…ÙŠÙ…' : 'Design'}</button>
                      <button class="mk-tabs__trigger">{state.env.lang === 'ar' ? 'Ø§Ù„ÙƒÙˆØ¯' : 'Code'}</button>
                      <button class="mk-tabs__trigger">{state.env.lang === 'ar' ? 'Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©' : 'Preview'}</button>
                    </div>
                    <div class="mk-tabs__panel">
                      <p>{state.env.lang === 'ar' ? 'Ø§Ù„ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ù†Ø´Ø· ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ data-state ÙˆÙŠØ³ØªØ®Ø¯Ù… Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„ØªØ¯Ø±Ø¬ ÙˆØ§Ù„Ø­Ø¯ÙˆØ¯.' : 'The active tab relies on data-state and token-driven borders.'}</p>
                    </div>
                  </div>
                </div>
              </div>

              <div class="mk-card" data-tone="soft">
                <h3 class="mk-card__title">{state.env.lang === 'ar' ? 'Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø­Ø§Ù„Ø©' : 'State table'}</h3>
                <table class="mk-table">
                  <thead>
                    <tr>
                      <th>{state.env.lang === 'ar' ? 'Ø§Ù„Ù…ÙƒÙˆÙ‘Ù†' : 'Component'}</th>
                      <th>{state.env.lang === 'ar' ? 'Ø§Ù„ÙˆØµÙ' : 'Description'}</th>
                      <th>{state.env.lang === 'ar' ? 'Ø§Ù„Ø­Ø§Ù„Ø©' : 'Status'}</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr x-for="row in state.data.components.table" key="row.name.ar">
                      <td>{state.env.lang === 'ar' ? row.name.ar : row.name.en}</td>
                      <td>{state.env.lang === 'ar' ? row.purpose.ar : row.purpose.en}</td>
                      <td><span class="mk-chip" data-state="active">{row.status}</span></td>
                    </tr>
                  </tbody>
                </table>
                <div class="mk-pagination">
                  <span class="mk-pagination__item" data-state="active">1</span>
                  <span class="mk-pagination__item">2</span>
                  <span class="mk-pagination__item">3</span>
                </div>
              </div>
            </section>

            <section class="mk-card" data-tone="elevated">
              <h2 class="u-section-title">{trans('section.utilities')}</h2>
              <div class="utility-cards">
                <div
                  class="utility-card {state.data.labs.activeUtility === utility.id ? 'active' : ''}"
                  x-for="utility in state.data.labs.utilities"
                  key="utility.id"
                  onclick="focusUtility(utility.id, ctx)"
                >
                  <h3 class="u-text-lg u-text-fg">{state.env.lang === 'ar' ? utility.title.ar : utility.title.en}</h3>
                  <p>{state.env.lang === 'ar' ? utility.description.ar : utility.description.en}</p>
                  <div class="mk-tag-cloud">
                    <span class="mk-chip" x-for="klass in utility.classes" key="klass">{klass}</span>
                  </div>
                </div>
              </div>
            </section>

            <section class="mk-card" data-tone="soft">
              <h2 class="u-section-title">{trans('section.experiments')}</h2>
              <div class="lab-playground">
                <div class="lab-controls">
                  <div class="mk-card" data-tone="soft">
                    <h3 class="mk-card__title">{state.env.lang === 'ar' ? 'ØªÙØ§Ø¹Ù„Ø§Øª ÙÙˆØ±ÙŠØ©' : 'Instant Interactions'}</h3>
                    <div class="demo-toolbar">
                      <button class="mk-btn" data-variant="primary" onclick="toggleModal(ctx)">{trans('controls.openModal')}</button>
                      <button class="mk-btn" data-variant="secondary" onclick="toggleDrawer(ctx)">{trans('controls.openDrawer')}</button>
                      <button class="mk-btn" data-tone="soft" onclick="triggerToast(ctx)">{trans('controls.toast')}</button>
                    </div>
                  </div>
                  <div class="mk-card" data-tone="soft">
                    <h3 class="mk-card__title">{state.env.lang === 'ar' ? 'ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø£Ø¯Ø§Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©' : 'Activate current utility'}</h3>
                  <p>
                      {state.env.lang === 'ar'
                        ? 'Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø© Ø­Ø§Ù„ÙŠÙ‹Ø§: '
                        : 'Currently highlighting: '}
                      <strong>{state.data.labs.activeUtility}</strong>
                    </p>
                    <p>
                      {state.env.lang === 'ar'
                        ? 'Ø§Ù„Ø«ÙŠÙ… Ø§Ù„Ù†Ø´Ø·: '
                        : 'Active theme: '}
                      <strong>{state.data.labs.activeTheme}</strong>
                    </p>
                    <p>
                      {state.env.lang === 'ar'
                        ? 'ÙŠØªÙ… Ø¶Ø¨Ø· Ø¹Ù†Ø§ØµØ± Ø§Ù„ØµÙØ­Ø© Ù„Ø¥Ø¸Ù‡Ø§Ø± ØªØ£Ø«ÙŠØ± Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…Ø®ØªØ§Ø±Ø© Ù…Ø¨Ø§Ø´Ø±Ø©.'
                        : 'Sections update live to show the effect of the chosen utility.'}
                    </p>
                  </div>
                </div>

                <div class="mk-modal" data-state="{state.data.labs.modalOpen ? 'open' : 'closed'}">
                  <div class="mk-modal__dialog">
                    <h3 class="mk-card__title">{trans('modal.title')}</h3>
                    <p>{trans('modal.copy')}</p>
                    <div class="u-inline-center u-gap-2">
                      <button class="mk-btn" data-variant="primary" onclick="toggleModal(ctx)">{state.env.lang === 'ar' ? 'Ø¥ØºÙ„Ø§Ù‚' : 'Close'}</button>
                    </div>
                  </div>
                </div>

                <aside class="mk-drawer" data-state="{state.data.labs.drawerOpen ? 'open' : 'closed'}">
                  <h3 class="mk-card__title">{trans('drawer.title')}</h3>
                  <p>{trans('drawer.copy')}</p>
                  <button class="mk-btn" data-variant="ghost" onclick="toggleDrawer(ctx)">{state.env.lang === 'ar' ? 'Ø¥Ø®ÙØ§Ø¡' : 'Hide'}</button>
                </aside>

                <div class="mk-toast labs-toast" data-state="{state.data.labs.toastVisible ? 'visible' : 'hidden'}">
                  <strong>âœ¨ {trans('toast.message')}</strong>
                  <p>{state.env.lang === 'ar' ? 'Ø§Ù„Ù…ÙƒØªØ¨Ø© Ø¬Ø§Ù‡Ø²Ø© Ù„ØªØºØ°ÙŠØ© Ù…Ø´Ø§Ø±ÙŠØ¹Ùƒ.' : 'The library is ready to power your build.'}</p>
                </div>
              </div>
            </section>
          </div>
        </div>

        <script>
          function applyEnvironment(ctx){
            var root = document.documentElement;
            if(!root) return;
            var state = null;
            if(ctx && typeof ctx.getState === 'function'){
              try { state = ctx.getState(); } catch (_err) { state = ctx; }
            } else {
              state = ctx;
            }
            state = state || {};
            var env = state.env || state || {};
            if(env.dir){ root.setAttribute('dir', env.dir); }
            if(env.lang){ root.setAttribute('lang', env.lang); }
            if(env.theme){ root.dataset.theme = env.theme; }
          }

          function __bootstrap__(snapshot){
            if(snapshot && snapshot.env){ applyEnvironment(snapshot); }
          }

          function __init__(ctx){
            applyEnvironment(ctx);
          }

          function setTheme(theme, ctx){
            if(!ctx) return;
            ctx.set('env.theme', theme);
            ctx.set('data.labs.activeTheme', theme);
            window.setTimeout(function(){ applyEnvironment(ctx); }, 0);
          }

          function setLanguage(lang, ctx){
            if(!ctx) return;
            ctx.set('env.lang', lang);
            ctx.set('env.dir', lang === 'ar' ? 'rtl' : 'ltr');
            window.setTimeout(function(){ applyEnvironment(ctx); }, 0);
          }

          function setDirection(dir, ctx){
            if(!ctx) return;
            ctx.set('env.dir', dir);
            window.setTimeout(function(){ applyEnvironment(ctx); }, 0);
          }

          function toggleModal(ctx){
            if(!ctx || typeof ctx.getState !== 'function') return;
            var state = ctx.getState() || {};
            var labs = (state.data && state.data.labs) || {};
            ctx.set('data.labs.modalOpen', !labs.modalOpen);
          }

          function toggleDrawer(ctx){
            if(!ctx || typeof ctx.getState !== 'function') return;
            var state = ctx.getState() || {};
            var labs = (state.data && state.data.labs) || {};
            ctx.set('data.labs.drawerOpen', !labs.drawerOpen);
          }

          function triggerToast(ctx){
            if(!ctx) return;
            ctx.set('data.labs.toastVisible', true);
            window.setTimeout(function(){ ctx.set('data.labs.toastVisible', false); }, 2600);
          }

          function focusUtility(id, ctx){
            if(!ctx) return;
            ctx.set('data.labs.activeUtility', id);
          }
        </script>
      </section>
    </template>

    <script src="./mishkah-utils.js"></script>
    <script src="./mishkah.core.js"></script>
    <script src="./mishkah-htmlx.js"></script>

    <script>
      (function (window) {
        'use strict';
        var M = window.Mishkah;
        if (!M || !M.HTMLxAgent) {
          console.error('Mishkah HTMLx agent is required.');
          return;
        }
        M.HTMLxAgent.make();
      })(window);
    </script>
  </body>
</html>
