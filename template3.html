<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8"/>
  <title>Template Zen â€” ØµÙØ­Ø© Ù‡Ø§Ø¯Ø¦Ø©</title>
  <script src="./mishkah-utils.js"></script>
  <script src="./mishkah.core.js"></script>
  <script src="./mishkah-ui.js"></script>
  <script src="./mishkah.templates.js"></script>
</head>
<body>
  <div id="app"></div>

  <script>
    const { Mishkah } = window;
    const { utils: U } = Mishkah;
    const { tw, cx } = U.twcss;

    const sections = {
      main: (ctx) => {
        const testimonials = ctx.db.data?.testimonials || [];
        if (!testimonials.length) return ctx.defaults.main(ctx);
        return Mishkah.DSL.Containers.Section({
          attrs: { class: cx('template-glass', tw`rounded-[32px] border px-6 py-10 space-y-6`) }
        }, [
          Mishkah.DSL.Text.H2({}, ['Ø£ØµÙˆØ§Øª Ù…Ù† Ø§Ù„Ù…Ø¬ØªÙ…Ø¹']),
          Mishkah.DSL.Containers.Div({ attrs: { class: tw`grid gap-4 md:grid-cols-2` } },
            testimonials.map((item, idx) => Mishkah.DSL.Containers.Div({
              attrs: { key: `testimonial-${idx}`, class: tw`flex h-full flex-col gap-3 rounded-3xl bg-[color-mix(in_ oklab,var(--surface-2)_85%,transparent)] p-5 text-start` }
            }, [
              Mishkah.DSL.Text.P({ attrs: { class: tw`text-sm text-[var(--muted-foreground)]` } }, [`â€œ${item.quote}â€`]),
              Mishkah.DSL.Containers.Div({ attrs: { class: tw`flex items-center gap-3` } }, [
                Mishkah.DSL.Containers.Div({ attrs: { class: tw`grid h-10 w-10 place-items-center rounded-full bg-[var(--accent)] text-xs font-semibold` } }, [item.avatar || (item.author ? item.author.slice(0, 2) : 'ØŸ')]),
                Mishkah.DSL.Containers.Div({}, [
                  Mishkah.DSL.Text.Strong({}, [item.author]),
                  item.role ? Mishkah.DSL.Text.Span({ attrs: { class: tw`text-xs text-[var(--muted-foreground)]` } }, [item.role]) : null
                ].filter(Boolean))
              ])
            ].filter(Boolean))
          )
        ]);
      },
      cards: (ctx) => ctx.defaults.cards(ctx)
    };

    Mishkah.Templates.create({
      layout: 'zen',
      mount: '#app',
      database: {
        data: {
          testimonials: [
            { quote: 'Ø§Ù„Ù‚Ø§Ù„Ø¨ Ø§Ø®ØªØµØ± Ø¹Ù„ÙŠÙ†Ø§ Ø£ÙŠØ§Ù… Ù…Ù† Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„ÙŠØ¯ÙˆÙŠØŒ ÙˆØ§Ø³ØªØ·Ø¹Ù†Ø§ Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ù…Ù†Ø·Ù‚ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚.', author: 'Ø±ÙŠÙ…', role: 'Ù…Ø¤Ø³Ø³Ø© Ù…Ø´Ø±ÙˆØ¹ ØªØ¹Ù„ÙŠÙ…ÙŠ' },
            { quote: 'ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø³Ù„Ø³Ø© Ø¬Ø¯Ù‹Ø§ØŒ ÙˆØ§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø¬Ø§Ù‡Ø²Ø© ÙˆÙØ±Øª Ø¹Ù„ÙŠÙ†Ø§ ÙƒØªØ§Ø¨Ø© Ø§Ù„ÙƒØ«ÙŠØ± Ù…Ù† Ø§Ù„ÙƒÙˆØ¯.', author: 'Ø¬ÙˆØ§Ø¯', role: 'Ù‚Ø§Ø¦Ø¯ ÙØ±ÙŠÙ‚ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©' },
            { quote: 'Ø®Ù„Ø§Ù„ Ø£Ù‚Ù„ Ù…Ù† Ø³Ø§Ø¹Ø© Ø´ØºÙ‘Ù„Ù†Ø§ Ù†Ø³Ø®Ø© Ø§Ù„Ø¹Ø±Ø¶ØŒ ÙˆÙƒØ§Ù† Ù…Ù† Ø§Ù„Ø³Ù‡Ù„ Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø¨Ù…ÙƒÙˆÙ‘Ù†Ø§ØªÙ†Ø§.', author: 'Ù‡Ù†Ø¯', role: 'Ù…Ø¯ÙŠØ±Ø© Ù…Ù†ØªØ¬' },
            { quote: 'Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø¯Ø§ÙƒÙ†Ø© ØªØ¨Ø¯Ùˆ Ø±Ø§Ø¦Ø¹Ø©ØŒ ÙˆØ§Ù„Ø£Ø¯Ø§Ø¡ Ù…Ù…ØªØ§Ø² Ø­ØªÙ‰ Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø¶Ø®Ù…Ø©.', author: 'Ù…Ø¹Ø§Ø°', role: 'Ù…Ù‡Ù†Ø¯Ø³ Ø¨ÙŠØ§Ù†Ø§Øª' }
          ]
        }
      },
      copy: {
        brand: { name: 'Calm Studio', tagline: 'Ù…Ø³Ø§Ø­Ø© Ù‡Ø§Ø¯Ø¦Ø© Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ù„Ù‡Ù…Ø©' },
        hero: {
          eyebrow: 'ØªØ¬Ø±Ø¨Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø±ÙŠØ­Ø©',
          title: 'Ø§Ø¬Ø¹Ù„ ØµÙØ­ØªÙƒ ØªÙ‡Ø¯Ø£ ÙˆØªØ´Ø±Ø­ ÙƒÙ„ Ø´ÙŠØ¡ Ø¨Ø¨Ø³Ø§Ø·Ø©',
          description: 'Layout Zen ÙŠÙ…Ù†Ø­Ùƒ ØµÙØ­Ø© Ù…Ø±ÙƒØ²ÙŠØ© Ù…ØªÙˆØ§Ø²Ù†Ø© Ù…Ø¹ Ø¯Ø¹ÙˆØ§Øª Ù„Ù„ÙØ¹Ù„ ÙˆØ§Ø¶Ø­Ø© ÙˆÙ‚ØµØµ Ù†Ø¬Ø§Ø­ Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ø¹Ø±Ø¶.',
          bullets: [
            { icon: 'ğŸ’¡', text: 'ØªØµÙ…ÙŠÙ… Ø¨Ø³ÙŠØ· Ù…Ø¹ ØªØ¨Ø§ÙŠÙ† Ù…ØªØ²Ù† ÙˆÙ…Ø­ØªÙˆÙ‰ ÙÙŠ Ø§Ù„Ù…Ù†ØªØµÙ.' },
            { icon: 'ğŸ§˜', text: 'Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù‡Ø§Ø¯Ø¦Ø© ÙˆØ§Ù„ØµÙØ­Ø§Øª Ø§Ù„ØªØ¹Ø±ÙŠÙÙŠØ©.' }
          ],
          primary: { label: 'Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†', gkey: 'zen.join' },
          secondary: { label: 'Ø´Ø§Ù‡Ø¯ Ø§Ù„Ø¬ÙˆÙ„Ø©', gkey: 'zen.tour' }
        },
        cards: [
          { title: 'Ù…ÙƒØªØ¨Ø© UI Ù†Ø¸ÙŠÙØ©', description: 'Ù…ÙƒÙˆÙ‘Ù†Ø§Øª Ø¬Ø§Ù‡Ø²Ø© ØªØ³ØªØ¬ÙŠØ¨ Ù„Ø£ÙˆØ§Ù…Ø± Ù…Ø´ÙƒØ§Ø© Ù…Ø¨Ø§Ø´Ø±Ø©.' },
          { title: 'Ø­Ù‚Ù† Ø¨Ø³ÙŠØ·', description: 'ÙˆØ¸Ø§Ø¦Ù sections ØªØªÙŠØ­ Ù„Ùƒ ØªØ¨Ø¯ÙŠÙ„ Ø£ÙŠ Ø¬Ø²Ø¡ Ø¨Ø¯Ø§Ù„Ø© ÙˆØ§Ø­Ø¯Ø©.' },
          { title: 'Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ø§Ù„Ø«ÙŠÙ…', description: 'Ø£ÙˆØ§Ù…Ø± ØªØºÙŠÙŠØ± Ø§Ù„Ø«ÙŠÙ… ÙˆØ§Ù„Ù„ØºØ© Ù…Ø¯Ù…Ø¬Ø© Ù…Ø³Ø¨Ù‚Ù‹Ø§.' }
        ],
        cta: {
          title: 'Ø´Ø§Ø±Ùƒ Ù…Ù†ØªØ¬Ùƒ Ù…Ø¹ Ø§Ù„Ø¹Ø§Ù„Ù…',
          description: 'Ø§Ø³ØªØ®Ø¯Ù… Zen Ù„ØªÙ‚Ø¯ÙŠÙ… ÙÙƒØ±ØªÙƒ Ø®Ù„Ø§Ù„ Ø¯Ù‚Ø§Ø¦Ù‚ Ù…Ø¹ Ø¯Ø¹Ù… ÙƒØ§Ù…Ù„ Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©.',
          primary: { label: 'Ø¥Ù†Ø´Ø§Ø¡ ØµÙØ­Ø© Ø¬Ø¯ÙŠØ¯Ø©', gkey: 'zen.join' },
          secondary: { label: 'Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ø¯Ù„ÙŠÙ„', gkey: 'zen.tour' }
        }
      },
      sections,
      orders: {
        'zen.join': {
          on: ['click'],
          gkeys: ['zen.join', 'templates:cta:primary'],
          handler: () => console.info('âœ¨ Ù„Ù†Ø¨Ø¯Ø£ Ø¨Ø¨Ù†Ø§Ø¡ ØµÙØ­Ø© Zen Ø¬Ø¯ÙŠØ¯Ø©!')
        },
        'zen.tour': {
          on: ['click'],
          gkeys: ['zen.tour', 'templates:cta:secondary'],
          handler: () => window.open('https://example.com/zen-tour', '_blank')
        }
      }
    });
  </script>
</body>
</html>
