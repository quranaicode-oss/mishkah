<!DOCTYPE html>
<html lang="ar" dir="rtl" data-htmlx="quick-dashboard">
  <head>
    <meta charset="utf-8" />
    <title>Mishkah Quick Dashboard</title>
    <script src="./mishkah.js" data-htmlx></script>
    <script src="./mishkah-ui.js"></script>
  </head>
  <body>
    <template id="quick-dashboard">
      <script type="application/json" data-path="env">
        { "lang": "ar", "theme": "auto" }
      </script>
      <script type="application/json" data-path="i18n.strings">
        {
          "quick.title": { "ar": "لوحة سريعة", "en": "Quick Dashboard" },
          "quick.revenue": { "ar": "الإيراد", "en": "Revenue" },
          "quick.orders": { "ar": "الطلبات", "en": "Orders" },
          "quick.trend": { "ar": "أداء الأسبوع", "en": "Weekly trend" },
          "quick.timer": { "ar": "الوقت المتبقي", "en": "Time left" }
        }
      </script>
      <script type="application/json" data-path="data">
        {
          "metrics": { "revenue": "12.8K", "orders": 54 },
          "timer": { "seconds": 45 }
        }
      </script>

      <section data-m-scope="quick-dashboard" class="mx-auto flex min-h-screen max-w-4xl flex-col gap-6 bg-[var(--background)] p-6">
        <header class="flex flex-wrap items-center justify-between gap-3">
          <h1 class="text-2xl font-semibold">{trans('quick.title')}</h1>
          <div class="flex items-center gap-2">
            <comp name="ui.language-switch" lang="{state.env.lang}"></comp>
            <comp name="ui.theme-toggle-icon" theme="{state.env.theme}" gkey="ui:theme-toggle"></comp>
          </div>
        </header>

        <div class="grid gap-4 sm:grid-cols-2">
          <section class="rounded-2xl border border-[var(--border)] bg-[var(--card)] p-5 shadow-[var(--shadow)]">
            <p class="text-sm text-[var(--muted-foreground)]">{trans('quick.revenue')}</p>
            <strong class="text-3xl font-bold">{state.data.metrics.revenue}</strong>
          </section>
          <section class="rounded-2xl border border-[var(--border)] bg-[var(--card)] p-5 shadow-[var(--shadow)]">
            <p class="text-sm text-[var(--muted-foreground)]">{trans('quick.orders')}</p>
            <strong class="text-3xl font-bold">{state.data.metrics.orders}</strong>
          </section>
        </div>

        <figure class="rounded-3xl border border-[var(--border)] bg-[var(--card)] p-5 shadow-[var(--shadow)]">
          <figcaption class="mb-3 text-sm text-[var(--muted-foreground)]">{trans('quick.trend')}</figcaption>
          <canvas
            data-chart-auto
            data-chart-type="line"
            data-chart-values="18,22,25,28,35,31,29"
            data-chart-labels="Mon,Tue,Wed,Thu,Fri,Sat,Sun"
            data-chart-height="260"
          ></canvas>
        </figure>

        <div class="flex items-center justify-between rounded-3xl border border-[var(--border)] bg-[var(--card)] p-5 shadow-[var(--shadow)]">
          <span class="text-sm text-[var(--muted-foreground)]">{trans('quick.timer')}</span>
          <strong class="text-2xl font-semibold" data-countdown="45" data-countdown-template="⏱️ {{time}}"></strong>
        </div>
      </section>
    </template>
  </body>
</html>
